{{
extend 'layout.html'
}}

<meta name="description" content="Solver for the randomized Super Metroid roms"/>
<link rel="shortcut icon" href={{=URL('static','favicon.ico')}} type="image/ico"/>
<link rel="stylesheet" type="text/css" href={{=URL('static','css/mystyle_20181203.css')}} media="screen"/>

<link href={{=URL('static', 'css/bootstrap-tour.min.css')}} rel="stylesheet">
<script src="{{=URL('static','js/bootstrap-tour.min.js')}}"></script>

<script type="text/javascript" src="{{=URL('static', 'js/chosen.jquery.min.js')}}"></script>
<link rel="stylesheet" type="text/css" href={{=URL("static", "css/chosen.css")}} />

<script type="text/javascript" src="{{=URL('static', 'js/leader-line.min.js')}}"></script>

<script src="{{=URL('static','js/FileSaver.js')}}"></script>

<title>Super Metroid VARIA Randomizer Tracker</title>

<style>
/* align text on the left in the bootstrap tooltip */
.tooltip-inner {
    text-align: left;
    white-space:nowrap;
    max-width:none;
}
.tooltip {
    position: fixed;
}
/* tutorial popup bigger for the tracker*/
.popover {
    max-width: 60%;
    max-height: 95vh;
    overflow-y: scroll;
    position: fixed;
}
body {
    background-color: #000;
}
.diffHelp {
    background-color: #000;
    width: 32px;
}
.map_container {
    position: relative;
}
img {
    max-width: 100%;
    height: auto;
}
.greyed {
    opacity: 0.5;
}
.solverPopup {
    background-color: #ffffff;
    position: absolute;
    z-index: 4;
    width: 40%;
    height: auto;
    top: 2em;
    left: 30%;
    display: none;
    padding: 0.5%;
    border: 2px solid gray;
}
.itemPopup {
    background-color: #ffffff;
    position: absolute;
    z-index: 4;
    width: 40%;
    height: auto;
    top: 2em;
    left: 30%;
    display: none;
    padding: 0.5%;
    border: 2px solid gray;
}
.cloud {
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 0.1%;
}
.help {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 2.75%;
}
.titleArea {
    position: absolute;
    z-index: 2;
    width: 10%;
    height: 3.75%;
    top: 1%;
    left: 6%;
    color: #ffffff;
    font-size: 1.25vw;
    font-weight: bold;
}
.repeatArea {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 13.25%;
}
.binArea {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 16%;
}
.titleItem {
    position: absolute;
    z-index: 2;
    width: 10%;
    height: 3.75%;
    top: 5.25%;
    left: 6%;
    color: #ffffff;
    font-size: 1.25vw;
    font-weight: bold;
}
.startItem {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 4.75%;
    left: 10.5%;
}
.repeatItem {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 4.75%;
    left: 13.25%;
}
.binItem {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 4.75%;
    left: 16%;
}

.titlePlando {
    position: absolute;
    z-index: 2;
    width: 10%;
    height: 3.75%;
    top: 1%;
    left: 80%;
    color: #ffffff;
    font-size: 1.25vw;
    font-weight: bold;
}
.startPlando {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 88.95%;
}
.repeatPlando {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 91.7%;
}
.binPlando {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 94.45%;
}
.savePlando {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 97.2%;
}
.helpPlando {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 2.5%;
    height: 3.75%;
    top: 0.5%;
    left: 86.2%;
}

.baseButton {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 1.2210012%;
    height: 2.7472527%;
}
.baseButtonRot {
    cursor: pointer;
    position: absolute;
    z-index: 2;
    width: 1.8315018%;
    height: 1.8315018%;
}
.addBorder {
    border: 1px solid #ddd;
}
#lowerMushroomsLeft {
    left: 19.25%;
    top: 13.8%;
}
#moatRight {
    left: 49%;
    top: 7.8%;
}
#greenPiratesShaftBottomRight {
    left: 24.3%;
    top: 13.8%;
}
#keyhunterRoomBottom {
    left: 45.2%;
    top: 12.6%;
}
#morphBallRoomLeft {
    left: 29.71%;
    top: 48.8%;
}
#greenBrinstarElevatorRight {
    left: 6.25%;
    top: 29.8%;
}
#greenHillZoneTopRight {
    left: 16.8%;
    top: 64.8%;
}
#noobBridgeRight {
    left: 28.06%;
    top: 69.3%;
}
#westOceanLeft {
    left: 60.4%;
    top: 8%;
}
#crabMazeLeft {
    left: 81.3%;
    top: 15.7%;
}
#lavaDiveRight {
    left: 81.6%;
    top: 80.5%;
}
#threeMuskateersRoomLeft {
    left: 85.1%;
    top: 70%;
}
#warehouseZeelaRoomLeft {
    left: 51.1%;
    top: 64.4%;
}
#warehouseEntranceLeft {
    left: 42.35%;
    top: 67%;
}
#warehouseEntranceRight {
    left: 45.85%;
    top: 67%;
}
#singleChamberTopRight {
    left: 62.05%;
    top: 74.7%;
}
#kronicBoostRoomBottomLeft {
    left: 58.05%;
    top: 85.4%;
}
#mainStreetBottom {
    left: 67.65%;
    top: 59.3%;
}
#crabHoleBottomLeft {
    left: 71.9%;
    top: 59.3%;
}
#leCoudeRight {
    left: 90.65%;
    top: 15.1%;
}
#redFishRoomLeft {
    left: 68.2%;
    top: 44%;
}
#redTowerTopLeft {
    left: 51.3%;
    top: 51.6%;
}
#caterpillarRoomTopRight {
    left: 58.58%;
    top: 42.5%;
}
#redBrinstarElevator {
    left: 55.6%;
    top: 9.7%;
}
#eastTunnelRight {
    left: 59.7%;
    top: 59.2%;
}
#eastTunnelTopRight {
    left: 62.1%;
    top: 57.7%;
}
#glassTunnelTop {
    left: 57.6%;
    top: 56.9%;
}
#statuesHallwayLeft {
    left: 22.9%;
    top: 17.3%;
}
#phantoonRoomOut {
    left: 77.7%;
    top: 15.7%;
}
#phantoonRoomIn {
    left: 75.3%;
    top: 15.7%;
}
#ridleyRoomOut {
    left: 77.35%;
    top: 92.5%;
}
#ridleyRoomIn {
    left: 79.4%;
    top: 89.9%;
}
#kraidRoomOut {
    left: 64.8%;
    top: 66.1%;
}
#kraidRoomIn {
    left: 62.25%;
    top: 66.1%;
}
#draygonRoomOut {
    left: 93.7%;
    top: 48.8%;
}
#draygonRoomIn {
    left: 95.85%;
    top: 47.2%;
}


.lowerMushroomsLeftGps {
    left: 18.75%;
    top: 12%;
}
.moatRightGps {
    left: 48.5%;
    top: 6%;
}
.greenPiratesShaftBottomRightGps {
    left: 23.85%;
    top: 12%;
}
.keyhunterRoomBottomGps {
    left: 44.98%;
    top: 10.2%;
}
.morphBallRoomLeftGps {
    left: 29.23%;
    top: 46.8%;
}
.greenBrinstarElevatorRightGps {
    left: 5.73%;
    top: 28%;
}
.greenHillZoneTopRightGps {
    left: 16.3%;
    top: 63%;
}
.noobBridgeRightGps {
    left: 27.55%;
    top: 67.5%;
}
.westOceanLeftGps {
    left: 59.9%;
    top: 6.2%;
}
.wreckedShipMainGps {
    left: 72.05%;
    top: 8%;
}
.wreckedShipBackGps {
    left: 76.8%;
    top: 7%;
}
.crabMazeLeftGps {
    left: 80.8%;
    top: 13.8%;
}
.lavaDiveRightGps {
    left: 81.15%;
    top: 78.6%;
}
.lNEntranceGps {
    left: 76.8%;
    top: 83.5%;
}
.lNAboveGTGps {
    left: 72%;
    top: 86.5%;
}
.screwAttackBottomGps {
    left: 75.8%;
    top: 86%;
}
.firefleasGps {
    left: 91.1%;
    top: 77%;
}
.ridleyZoneGps {
    left: 80.6%;
    top: 88%;
}
.threeMuskateersRoomLeftGps {
    left: 84.6%;
    top: 68.3%;
}
.warehouseZeelaRoomLeftGps {
    left: 50.63%;
    top: 62.5%;
}
.warehouseEntranceLeftGps {
    left: 41.9%;
    top: 65.2%;
}
.warehouseEntranceRightGps {
    left: 45.36%;
    top: 65.3%;
}
.singleChamberTopRightGps {
    left: 61.55%;
    top: 72.8%;
}
.kronicBoostRoomBottomLeftGps {
    left: 57.55%;
    top: 83.5%;
}
.mainStreetBottomGps {
    left: 67.5%;
    top: 56.8%;
}
.crabHoleBottomLeftGps {
    left: 71.45%;
    top: 57.3%;
}
.leCoudeRightGps {
    left: 90.16%;
    top: 13.1%;
}
.redFishRoomLeftGps {
    left: 67.7%;
    top: 42.2%;
}
.redTowerTopLeftGps {
    left: 50.81%;
    top: 49.7%;
}
.caterpillarRoomTopRightGps {
    left: 58.1%;
    top: 40.6%;
}
.redBrinstarElevatorGps {
    left: 55.45%;
    top: 7.3%;
}
.eastTunnelRightGps {
    left: 59.25%;
    top: 57.4%;
}
.eastTunnelTopRightGps {
    left: 61.65%;
    top: 55.8%;
}
.glassTunnelTopGps {
    left: 57.4%;
    top: 54.5%;
}
.statuesHallwayLeftGps {
    left: 22.45%;
    top: 15.4%;
}
.landingSiteGps {
    left: 38.1%;
    top: 5%;
}
.bigPinkGps {
    left: 13.15%;
    top: 57%;
}
.crocZoneGps {
    left: 46%;
    top: 83.5%;
}
.bubbleMountainGps {
    left: 54.6%;
    top: 73%;
}
.phantoonRoomOutGps {
    left: 77.2%;
    top: 13.8%;
}
.phantoonRoomInGps {
    left: 74.8%;
    top: 13.8%;
}
.ridleyRoomOutGps {
    left: 76.8%;
    top: 90.7%;
}
.ridleyRoomInGps {
    left: 78.9%;
    top: 88%;
}
.kraidRoomOutGps {
    left: 64.3%;
    top: 64.3%;
}
.kraidRoomInGps {
    left: 61.77%;
    top: 64.3%;
}
.draygonRoomOutGps {
    left: 93.2%;
    top: 47%;
}
.draygonRoomInGps {
    left: 95.35%;
    top: 45.4%;
}
.lastLoc {
    position: absolute;
    width: 2.25%;
}

.marker_over_break {
    background-image: url("/solver/static/images/marker_over_break.png");
}
.marker_over_easy {
    background-image: url("/solver/static/images/marker_over_easy.png");
}
.marker_over_medium {
    background-image: url("/solver/static/images/marker_over_medium.png");
}
.marker_over_hard {
    background-image: url("/solver/static/images/marker_over_hard.png");
}
.marker_over_harder {
    background-image: url("/solver/static/images/marker_over_harder.png");
}
.marker_over_hardcore {
    background-image: url("/solver/static/images/marker_over_hardcore.png");
}
.marker_over_mania {
    background-image: url("/solver/static/images/marker_over_mania.png");
}
.marker_available_break {
    background-image: url("/solver/static/images/marker_break.png");
}
.marker_available_easy {
    background-image: url("/solver/static/images/marker_easy.gif");
}
.marker_available_medium {
    background-image: url("/solver/static/images/marker_medium.gif");
}
.marker_available_hard {
    background-image: url("/solver/static/images/marker_hard.gif");
}
.marker_available_harder {
    background-image: url("/solver/static/images/marker_harder.gif");
}
.marker_available_hardcore {
    background-image: url("/solver/static/images/marker_hardcore.gif");
}
.marker_available_mania {
    background-image: url("/solver/static/images/marker_mania.gif");
}
.marker_visited_easy_Bomb {
    background-image: url("/solver/static/images/marker_visited_easy_Bomb.png");
}
.marker_visited_easy_Charge {
    background-image: url("/solver/static/images/marker_visited_easy_Charge.png");
}
.marker_visited_easy_ETank {
    background-image: url("/solver/static/images/marker_visited_easy_ETank.png");
}
.marker_visited_easy_Grapple {
    background-image: url("/solver/static/images/marker_visited_easy_Grapple.png");
}
.marker_visited_easy_HiJump {
    background-image: url("/solver/static/images/marker_visited_easy_HiJump.png");
}
.marker_visited_easy_Ice {
    background-image: url("/solver/static/images/marker_visited_easy_Ice.png");
}
.marker_visited_easy_Missile {
    background-image: url("/solver/static/images/marker_visited_easy_Missile.png");
}
.marker_visited_easy_Morph {
    background-image: url("/solver/static/images/marker_visited_easy_Morph.png");
}
.marker_visited_easy_Plasma {
    background-image: url("/solver/static/images/marker_visited_easy_Plasma.png");
}
.marker_visited_easy_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_easy_PowerBomb.png");
}
.marker_visited_easy_Reserve {
    background-image: url("/solver/static/images/marker_visited_easy_Reserve.png");
}
.marker_visited_easy_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_easy_ScrewAttack.png");
}
.marker_visited_easy_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_easy_SpaceJump.png");
}
.marker_visited_easy_Spazer {
    background-image: url("/solver/static/images/marker_visited_easy_Spazer.png");
}
.marker_visited_easy_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_easy_SpeedBooster.png");
}
.marker_visited_easy_SpringBall {
    background-image: url("/solver/static/images/marker_visited_easy_SpringBall.png");
}
.marker_visited_easy_Super {
    background-image: url("/solver/static/images/marker_visited_easy_Super.png");
}
.marker_visited_easy_Varia {
    background-image: url("/solver/static/images/marker_visited_easy_Varia.png");
}
.marker_visited_easy_Wave {
    background-image: url("/solver/static/images/marker_visited_easy_Wave.png");
}
.marker_visited_easy_XRayScope {
    background-image: url("/solver/static/images/marker_visited_easy_XRayScope.png");
}
.marker_visited_hard_Bomb {
    background-image: url("/solver/static/images/marker_visited_hard_Bomb.png");
}
.marker_visited_hard_Charge {
    background-image: url("/solver/static/images/marker_visited_hard_Charge.png");
}
.marker_visited_hardcore_Bomb {
    background-image: url("/solver/static/images/marker_visited_hardcore_Bomb.png");
}
.marker_visited_hardcore_Charge {
    background-image: url("/solver/static/images/marker_visited_hardcore_Charge.png");
}
.marker_visited_hardcore_ETank {
    background-image: url("/solver/static/images/marker_visited_hardcore_ETank.png");
}
.marker_visited_hardcore_Grapple {
    background-image: url("/solver/static/images/marker_visited_hardcore_Grapple.png");
}
.marker_visited_hardcore_HiJump {
    background-image: url("/solver/static/images/marker_visited_hardcore_HiJump.png");
}
.marker_visited_hardcore_Ice {
    background-image: url("/solver/static/images/marker_visited_hardcore_Ice.png");
}
.marker_visited_hardcore_Missile {
    background-image: url("/solver/static/images/marker_visited_hardcore_Missile.png");
}
.marker_visited_hardcore_Morph {
    background-image: url("/solver/static/images/marker_visited_hardcore_Morph.png");
}
.marker_visited_hardcore_Plasma {
    background-image: url("/solver/static/images/marker_visited_hardcore_Plasma.png");
}
.marker_visited_hardcore_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_hardcore_PowerBomb.png");
}
.marker_visited_hardcore_Reserve {
    background-image: url("/solver/static/images/marker_visited_hardcore_Reserve.png");
}
.marker_visited_hardcore_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_hardcore_ScrewAttack.png");
}
.marker_visited_hardcore_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_hardcore_SpaceJump.png");
}
.marker_visited_hardcore_Spazer {
    background-image: url("/solver/static/images/marker_visited_hardcore_Spazer.png");
}
.marker_visited_hardcore_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_hardcore_SpeedBooster.png");
}
.marker_visited_hardcore_SpringBall {
    background-image: url("/solver/static/images/marker_visited_hardcore_SpringBall.png");
}
.marker_visited_hardcore_Super {
    background-image: url("/solver/static/images/marker_visited_hardcore_Super.png");
}
.marker_visited_hardcore_Varia {
    background-image: url("/solver/static/images/marker_visited_hardcore_Varia.png");
}
.marker_visited_hardcore_Wave {
    background-image: url("/solver/static/images/marker_visited_hardcore_Wave.png");
}
.marker_visited_hardcore_XRayScope {
    background-image: url("/solver/static/images/marker_visited_hardcore_XRayScope.png");
}
.marker_visited_harder_Bomb {
    background-image: url("/solver/static/images/marker_visited_harder_Bomb.png");
}
.marker_visited_harder_Charge {
    background-image: url("/solver/static/images/marker_visited_harder_Charge.png");
}
.marker_visited_harder_ETank {
    background-image: url("/solver/static/images/marker_visited_harder_ETank.png");
}
.marker_visited_harder_Grapple {
    background-image: url("/solver/static/images/marker_visited_harder_Grapple.png");
}
.marker_visited_harder_HiJump {
    background-image: url("/solver/static/images/marker_visited_harder_HiJump.png");
}
.marker_visited_harder_Ice {
    background-image: url("/solver/static/images/marker_visited_harder_Ice.png");
}
.marker_visited_harder_Missile {
    background-image: url("/solver/static/images/marker_visited_harder_Missile.png");
}
.marker_visited_harder_Morph {
    background-image: url("/solver/static/images/marker_visited_harder_Morph.png");
}
.marker_visited_harder_Plasma {
    background-image: url("/solver/static/images/marker_visited_harder_Plasma.png");
}
.marker_visited_harder_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_harder_PowerBomb.png");
}
.marker_visited_harder_Reserve {
    background-image: url("/solver/static/images/marker_visited_harder_Reserve.png");
}
.marker_visited_harder_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_harder_ScrewAttack.png");
}
.marker_visited_harder_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_harder_SpaceJump.png");
}
.marker_visited_harder_Spazer {
    background-image: url("/solver/static/images/marker_visited_harder_Spazer.png");
}
.marker_visited_harder_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_harder_SpeedBooster.png");
}
.marker_visited_harder_SpringBall {
    background-image: url("/solver/static/images/marker_visited_harder_SpringBall.png");
}
.marker_visited_harder_Super {
    background-image: url("/solver/static/images/marker_visited_harder_Super.png");
}
.marker_visited_harder_Varia {
    background-image: url("/solver/static/images/marker_visited_harder_Varia.png");
}
.marker_visited_harder_Wave {
    background-image: url("/solver/static/images/marker_visited_harder_Wave.png");
}
.marker_visited_harder_XRayScope {
    background-image: url("/solver/static/images/marker_visited_harder_XRayScope.png");
}
.marker_visited_hard_ETank {
    background-image: url("/solver/static/images/marker_visited_hard_ETank.png");
}
.marker_visited_hard_Grapple {
    background-image: url("/solver/static/images/marker_visited_hard_Grapple.png");
}
.marker_visited_hard_HiJump {
    background-image: url("/solver/static/images/marker_visited_hard_HiJump.png");
}
.marker_visited_hard_Ice {
    background-image: url("/solver/static/images/marker_visited_hard_Ice.png");
}
.marker_visited_hard_Missile {
    background-image: url("/solver/static/images/marker_visited_hard_Missile.png");
}
.marker_visited_hard_Morph {
    background-image: url("/solver/static/images/marker_visited_hard_Morph.png");
}
.marker_visited_hard_Plasma {
    background-image: url("/solver/static/images/marker_visited_hard_Plasma.png");
}
.marker_visited_hard_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_hard_PowerBomb.png");
}
.marker_visited_hard_Reserve {
    background-image: url("/solver/static/images/marker_visited_hard_Reserve.png");
}
.marker_visited_hard_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_hard_ScrewAttack.png");
}
.marker_visited_hard_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_hard_SpaceJump.png");
}
.marker_visited_hard_Spazer {
    background-image: url("/solver/static/images/marker_visited_hard_Spazer.png");
}
.marker_visited_hard_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_hard_SpeedBooster.png");
}
.marker_visited_hard_SpringBall {
    background-image: url("/solver/static/images/marker_visited_hard_SpringBall.png");
}
.marker_visited_hard_Super {
    background-image: url("/solver/static/images/marker_visited_hard_Super.png");
}
.marker_visited_hard_Varia {
    background-image: url("/solver/static/images/marker_visited_hard_Varia.png");
}
.marker_visited_hard_Wave {
    background-image: url("/solver/static/images/marker_visited_hard_Wave.png");
}
.marker_visited_hard_XRayScope {
    background-image: url("/solver/static/images/marker_visited_hard_XRayScope.png");
}
.marker_visited_mania_Bomb {
    background-image: url("/solver/static/images/marker_visited_mania_Bomb.png");
}
.marker_visited_mania_Charge {
    background-image: url("/solver/static/images/marker_visited_mania_Charge.png");
}
.marker_visited_mania_ETank {
    background-image: url("/solver/static/images/marker_visited_mania_ETank.png");
}
.marker_visited_mania_Grapple {
    background-image: url("/solver/static/images/marker_visited_mania_Grapple.png");
}
.marker_visited_mania_HiJump {
    background-image: url("/solver/static/images/marker_visited_mania_HiJump.png");
}
.marker_visited_mania_Ice {
    background-image: url("/solver/static/images/marker_visited_mania_Ice.png");
}
.marker_visited_mania_Missile {
    background-image: url("/solver/static/images/marker_visited_mania_Missile.png");
}
.marker_visited_mania_Morph {
    background-image: url("/solver/static/images/marker_visited_mania_Morph.png");
}
.marker_visited_mania_Plasma {
    background-image: url("/solver/static/images/marker_visited_mania_Plasma.png");
}
.marker_visited_mania_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_mania_PowerBomb.png");
}
.marker_visited_mania_Reserve {
    background-image: url("/solver/static/images/marker_visited_mania_Reserve.png");
}
.marker_visited_mania_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_mania_ScrewAttack.png");
}
.marker_visited_mania_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_mania_SpaceJump.png");
}
.marker_visited_mania_Spazer {
    background-image: url("/solver/static/images/marker_visited_mania_Spazer.png");
}
.marker_visited_mania_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_mania_SpeedBooster.png");
}
.marker_visited_mania_SpringBall {
    background-image: url("/solver/static/images/marker_visited_mania_SpringBall.png");
}
.marker_visited_mania_Super {
    background-image: url("/solver/static/images/marker_visited_mania_Super.png");
}
.marker_visited_mania_Varia {
    background-image: url("/solver/static/images/marker_visited_mania_Varia.png");
}
.marker_visited_mania_Wave {
    background-image: url("/solver/static/images/marker_visited_mania_Wave.png");
}
.marker_visited_mania_XRayScope {
    background-image: url("/solver/static/images/marker_visited_mania_XRayScope.png");
}
.marker_visited_medium_Bomb {
    background-image: url("/solver/static/images/marker_visited_medium_Bomb.png");
}
.marker_visited_medium_Charge {
    background-image: url("/solver/static/images/marker_visited_medium_Charge.png");
}
.marker_visited_medium_ETank {
    background-image: url("/solver/static/images/marker_visited_medium_ETank.png");
}
.marker_visited_medium_Grapple {
    background-image: url("/solver/static/images/marker_visited_medium_Grapple.png");
}
.marker_visited_medium_HiJump {
    background-image: url("/solver/static/images/marker_visited_medium_HiJump.png");
}
.marker_visited_medium_Ice {
    background-image: url("/solver/static/images/marker_visited_medium_Ice.png");
}
.marker_visited_medium_Missile {
    background-image: url("/solver/static/images/marker_visited_medium_Missile.png");
}
.marker_visited_medium_Morph {
    background-image: url("/solver/static/images/marker_visited_medium_Morph.png");
}
.marker_visited_medium_Plasma {
    background-image: url("/solver/static/images/marker_visited_medium_Plasma.png");
}
.marker_visited_medium_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_medium_PowerBomb.png");
}
.marker_visited_medium_Reserve {
    background-image: url("/solver/static/images/marker_visited_medium_Reserve.png");
}
.marker_visited_medium_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_medium_ScrewAttack.png");
}
.marker_visited_medium_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_medium_SpaceJump.png");
}
.marker_visited_medium_Spazer {
    background-image: url("/solver/static/images/marker_visited_medium_Spazer.png");
}
.marker_visited_medium_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_medium_SpeedBooster.png");
}
.marker_visited_medium_SpringBall {
    background-image: url("/solver/static/images/marker_visited_medium_SpringBall.png");
}
.marker_visited_medium_Super {
    background-image: url("/solver/static/images/marker_visited_medium_Super.png");
}
.marker_visited_medium_Varia {
    background-image: url("/solver/static/images/marker_visited_medium_Varia.png");
}
.marker_visited_medium_Wave {
    background-image: url("/solver/static/images/marker_visited_medium_Wave.png");
}
.marker_visited_medium_XRayScope {
    background-image: url("/solver/static/images/marker_visited_medium_XRayScope.png");
}
.marker_visited_easy_Gravity {
    background-image: url("/solver/static/images/marker_visited_easy_Gravity.png");
}
.marker_visited_hardcore_Gravity {
    background-image: url("/solver/static/images/marker_visited_hardcore_Gravity.png");
}
.marker_visited_harder_Gravity {
    background-image: url("/solver/static/images/marker_visited_harder_Gravity.png");
}
.marker_visited_hard_Gravity {
    background-image: url("/solver/static/images/marker_visited_hard_Gravity.png");
}
.marker_visited_mania_Gravity {
    background-image: url("/solver/static/images/marker_visited_mania_Gravity.png");
}
.marker_visited_medium_Gravity {
    background-image: url("/solver/static/images/marker_visited_medium_Gravity.png");
}
.marker_visited_easy_Nothing {
    background-image: url("/solver/static/images/marker_visited_easy.png");
}
.marker_visited_hardcore_Nothing {
    background-image: url("/solver/static/images/marker_visited_hardcore.png");
}
.marker_visited_harder_Nothing {
    background-image: url("/solver/static/images/marker_visited_harder.png");
}
.marker_visited_hard_Nothing {
    background-image: url("/solver/static/images/marker_visited_hard.png");
}
.marker_visited_mania_Nothing {
    background-image: url("/solver/static/images/marker_visited_mania.png");
}
.marker_visited_medium_Nothing {
    background-image: url("/solver/static/images/marker_visited_medium.png");
}
.marker_visited_break_Nothing {
    background-image: url("/solver/static/images/marker_visited_break.png");
}
.marker_visited_easy_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_easy.png");
}
.marker_visited_hardcore_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_hardcore.png");
}
.marker_visited_harder_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_harder.png");
}
.marker_visited_hard_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_hard.png");
}
.marker_visited_mania_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_mania.png");
}
.marker_visited_medium_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_medium.png");
}
.marker_visited_break_NoEnergy {
    background-image: url("/solver/static/images/marker_visited_break.png");
}
.marker_visited_break_Bomb {
    background-image: url("/solver/static/images/marker_visited_break_Bomb.png");
}
.marker_visited_break_Charge {
    background-image: url("/solver/static/images/marker_visited_break_Charge.png");
}
.marker_visited_break_ETank {
    background-image: url("/solver/static/images/marker_visited_break_ETank.png");
}
.marker_visited_break_Grapple {
    background-image: url("/solver/static/images/marker_visited_break_Grapple.png");
}
.marker_visited_break_Gravity {
    background-image: url("/solver/static/images/marker_visited_break_Gravity.png");
}
.marker_visited_break_HiJump {
    background-image: url("/solver/static/images/marker_visited_break_HiJump.png");
}
.marker_visited_break_Ice {
    background-image: url("/solver/static/images/marker_visited_break_Ice.png");
}
.marker_visited_break_Missile {
    background-image: url("/solver/static/images/marker_visited_break_Missile.png");
}
.marker_visited_break_Morph {
    background-image: url("/solver/static/images/marker_visited_break_Morph.png");
}
.marker_visited_break_Plasma {
    background-image: url("/solver/static/images/marker_visited_break_Plasma.png");
}
.marker_visited_break_PowerBomb {
    background-image: url("/solver/static/images/marker_visited_break_PowerBomb.png");
}
.marker_visited_break_Reserve {
    background-image: url("/solver/static/images/marker_visited_break_Reserve.png");
}
.marker_visited_break_ScrewAttack {
    background-image: url("/solver/static/images/marker_visited_break_ScrewAttack.png");
}
.marker_visited_break_SpaceJump {
    background-image: url("/solver/static/images/marker_visited_break_SpaceJump.png");
}
.marker_visited_break_Spazer {
    background-image: url("/solver/static/images/marker_visited_break_Spazer.png");
}
.marker_visited_break_SpeedBooster {
    background-image: url("/solver/static/images/marker_visited_break_SpeedBooster.png");
}
.marker_visited_break_SpringBall {
    background-image: url("/solver/static/images/marker_visited_break_SpringBall.png");
}
.marker_visited_break_Super {
    background-image: url("/solver/static/images/marker_visited_break_Super.png");
}
.marker_visited_break_Varia {
    background-image: url("/solver/static/images/marker_visited_break_Varia.png");
}
.marker_visited_break_Wave {
    background-image: url("/solver/static/images/marker_visited_break_Wave.png");
}
.marker_visited_break_XRayScope {
    background-image: url("/solver/static/images/marker_visited_break_XRayScope.png");
}
.baseLoc {
    cursor: pointer;
    position: absolute;
    z-index: 3;
    width: 1%;
    height: 1.5%;
    background-repeat: no-repeat;
    background-size: cover;
}
.baseLocOver {
    cursor: pointer;
    position: absolute;
    z-index: 4;
    width: 2%;
    height: 3%;
    background-repeat: no-repeat;
    background-size: cover;
}

#EnergyTankGauntlet {
    left: 29.4%;
    top: 5.4%;
}
#Bomb {
    left: 37%;
    top: 11.35%;
}
#EnergyTankTerminator {
    left: 24.8%;
    top: 11.35%;
}
#ReserveTankBrinstar {
    left: 9.4%;
    top: 56.3%;
}
#ChargeBeam {
    left: 13.3%;
    top: 67.05%;
}
#MorphingBall {
    left: 34.3%;
    top: 49.45%;
}
#EnergyTankBrinstarCeiling {
    left: 39.9%;
    top: 49.45%;
}
#EnergyTankEtecoons {
    left: 2.9%;
    top: 65.6%;
}
#EnergyTankWaterway {
    left: 4.7%;
    top: 70.09%;
}
#EnergyTankBrinstarGate {
    left: 17.2%;
    top: 62.5%;
}
#XRayScope {
    left: 42.7%;
    top: 55.27%;
}
#Spazer {
    left: 57%;
    top: 58.3%;
}
#EnergyTankKraid {
    left: 50.97%;
    top: 66.8%;
}
#VariaSuit {
    left: 67.6%;
    top: 66.75%;
}
#IceBeam {
    left: 38.6%;
    top: 73.99%;
}
#EnergyTankCrocomire {
    left: 52%;
    top: 86.05%;
}
#HiJumpBoots {
    left: 40.4%;
    top: 80%;
}
#GrappleBeam {
    left: 36.65%;
    top: 95.2%;
}
#ReserveTankNorfair {
    left: 51.02%;
    top: 73.99%;
}
#SpeedBooster {
    left: 69.05%;
    top: 73.95%;
}
#WaveBeam {
    left: 61.4%;
    top: 76.9%;
}
#EnergyTankRidley {
    left: 75.6%;
    top: 94.6%;
}
#ScrewAttack {
    left: 76.45%;
    top: 90.4%;
}
#EnergyTankFirefleas {
    left: 92.5%;
    top: 82.8%;
}
#ReserveTankWreckedShip {
    left: 71.71%;
    top: 5.7%;
}
#EnergyTankWreckedShip {
    left: 74.7%;
    top: 7.3%;
}
#RightSuperWreckedShip {
    left: 77.4%;
    top: 13.3%;
}
#GravitySuit {
    left: 66.97%;
    top: 7.2%;
}
#EnergyTankMamaturtle {
    left: 74.93%;
    top: 52.3%;
}
#PlasmaBeam {
    left: 84.2%;
    top: 36.87%;
}
#ReserveTankMaridia {
    left: 77.55%;
    top: 56.85%;
}
#SpringBall {
    left: 89.1%;
    top: 58.4%;
}
#EnergyTankBotwoon {
    left: 85.3%;
    top: 46.2%;
}
#SpaceJump {
    left: 91.1%;
    top: 50.9%;
}
#PowerBombCrateriasurface {
    left: 44.5%;
    top: 3.9%;
}
#MissileoutsideWreckedShipbottom {
    left: 61.35%;
    top: 10.1%;
}
#MissileoutsideWreckedShiptop {
    left: 62.1%;
    top: 2.75%;
}
#MissileoutsideWreckedShipmiddle {
    left: 61.35%;
    top: 5.55%;
}
#MissileCrateriamoat {
    left: 47.5%;
    top: 8.4%;
}
#MissileCrateriabottom {
    left: 32.25%;
    top: 29.6%;
}
#MissileCrateriagauntletright {
    left: 24.2%;
    top: 6.9%;
}
#MissileCrateriagauntletleft {
    left: 23.2%;
    top: 6.9%;
}
#SuperMissileCrateria {
    left: 36.1%;
    top: 15.98%;
}
#MissileCrateriamiddle {
    left: 28.4%;
    top: 12.85%;
}
#PowerBombgreenBrinstarbottom {
    left: 8.5%;
    top: 61%;
}
#SuperMissilepinkBrinstar {
    left: 19.94%;
    top: 64%;
}
#MissilegreenBrinstarbelowsupermissile {
    left: 7.5%;
    top: 56.3%;
}
#SuperMissilegreenBrinstartop {
    left: 6.6%;
    top: 54.9%;
}
#MissilegreenBrinstarbehindmissile {
    left: 10.55%;
    top: 55.6%;
}
#MissilegreenBrinstarbehindreservetank {
    left: 10.37%;
    top: 57%;
}
#MissilepinkBrinstartop {
    left: 13.3%;
    top: 61%;
}
#MissilepinkBrinstarbottom {
    left: 13.3%;
    top: 65.5%;
}
#PowerBombpinkBrinstar {
    left: 11.4%;
    top: 62.5%;
}
#MissilegreenBrinstarpipe {
    left: 18%;
    top: 67.2%;
}
#PowerBombblueBrinstar {
    left: 32.25%;
    top: 49.45%;
}
#MissileblueBrinstarmiddle {
    left: 40.8%;
    top: 49.45%;
}
#SuperMissilegreenBrinstarbottom {
    left: 1.9%;
    top: 65.6%;
}
#MissileblueBrinstarbottom {
    left: 37%;
    top: 50.99%;
}
#MissileblueBrinstartop {
    left: 38%;
    top: 45.6%;
}
#MissileblueBrinstarbehindmissile {
    left: 38%;
    top: 47%;
}
#PowerBombredBrinstarsidehopperroom {
    left: 54.15%;
    top: 44.6%;
}
#PowerBombredBrinstarspikeroom {
    left: 54.15%;
    top: 49.2%;
}
#MissileredBrinstarspikeroom {
    left: 53.2%;
    top: 49.2%;
}
#MissileKraid {
    left: 54.9%;
    top: 65.2%;
}
#Missilelavaroom {
    left: 48%;
    top: 76.95%;
}
#MissilebelowIceBeam {
    left: 35.7%;
    top: 76.95%;
}
#MissileaboveCrocomire {
    left: 45.2%;
    top: 80.1%;
}
#MissileHiJumpBoots {
    left: 41.4%;
    top: 78.6%;
}
#EnergyTankHiJumpBoots {
    left: 42.4%;
    top: 78.5%;
}
#PowerBombCrocomire {
    left: 42.4%;
    top: 86.05%;
}
#MissilebelowCrocomire {
    left: 47%;
    top: 93.7%;
}
#MissileGrappleBeam {
    left: 41.3%;
    top: 93.8%;
}
#MissileNorfairReserveTank {
    left: 51.9%;
    top: 73.95%;
}
#MissilebubbleNorfairgreendoor {
    left: 53.8%;
    top: 73.95%;
}
#MissilebubbleNorfair {
    left: 55.7%;
    top: 78.45%;
}
#MissileSpeedBooster {
    left: 68.1%;
    top: 73.95%;
}
#MissileWaveBeam {
    left: 58.55%;
    top: 77.1%;
}
#MissileGoldTorizo {
    left: 74.5%;
    top: 88.9%;
}
#SuperMissileGoldTorizo {
    left: 75.5%;
    top: 88.9%;
}
#MissileMickeyMouseroom {
    left: 84.1%;
    top: 81.4%;
}
#MissilelowerNorfairabovefireflearoom {
    left: 90.75%;
    top: 73.7%;
}
#PowerBomblowerNorfairabovefireflearoom {
    left: 92.6%;
    top: 75.2%;
}
#PowerBombPowerBombsofshame {
    left: 87.9%;
    top: 87.35%;
}
#MissilelowerNorfairnearWaveBeam {
    left: 85%;
    top: 73.7%;
}
#MissileWreckedShipmiddle {
    left: 68.9%;
    top: 11.75%;
}
#MissileGravitySuit {
    left: 69.8%;
    top: 7.2%;
}
#MissileWreckedShiptop {
    left: 77.4%;
    top: 2.65%;
}
#SuperMissileWreckedShipleft {
    left: 71.8%;
    top: 13.3%;
}
#MissilegreenMaridiashinespark {
    left: 67.3%;
    top: 52.2%;
}
#SuperMissilegreenMaridia {
    left: 68.1%;
    top: 50.75%;
}
#MissilegreenMaridiatatori {
    left: 75.7%;
    top: 53.7%;
}
#SuperMissileyellowMaridia {
    left: 69.6%;
    top: 43.1%;
}
#MissileyellowMaridiasupermissile {
    left: 68.6%;
    top: 43.1%;
}
#MissileyellowMaridiafalsewall {
    left: 76.7%;
    top: 43%;
}
#MissileleftMaridiasandpitroom {
    left: 76.7%;
    top: 55.4%;
}
#MissilerightMaridiasandpitroom {
    left: 79.6%;
    top: 55.4%;
}
#PowerBombrightMaridiasandpitroom {
    left: 80.5%;
    top: 56.8%;
}
#MissilepinkMaridia {
    left: 80.5%;
    top: 47.85%;
}
#SuperMissilepinkMaridia {
    left: 81.5%;
    top: 47.85%;
}
#MissileDraygon {
    left: 97.65%;
    top: 44.7%;
}
#Kraid {
    left: 66.16%;
    top: 66%;
}
#Ridley {
    left: 76.6%;
    top: 93.8%;
}
#Phantoon {
    left: 78.8%;
    top: 16.3%;
}
#Draygon {
    left: 92.6%;
    top: 50%;
}
#MotherBrain {
    left: 22%;
    top: 33.2%;
}

.g4 {
    position: absolute;
    z-index: 0;
    left: 40%;
    top: 18%;
    width: 13%;
}
.kraid {
    display: none;
    position: absolute;
    z-index: 0;
    left: 40%;
    top: 26.12%;
    width: 6.4%;
}
.phantoon {
    display: none;
    position: absolute;
    z-index: 0;
    left: 44.763%;
    top: 28.1%;
    width: 4.12%;
}
.draygon {
    display: none;
    position: absolute;
    z-index: 0;
    left: 47.15%;
    top: 26.6%;
    width: 5.88%;
}
.ridley {
    display: none;
    position: absolute;
    z-index: 0;
    left: 43.73%;
    top: 17.95%;
    width: 7.94%;
}
.pause {
    position: absolute;
    z-index: 0;
    left: 0%;
    top: 8%;
    width: 18.8%;
}
.Charge_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.35%;
    top: 21.5%;
    width: 2.9375%;
}
.Ice_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.35%;
    top: 22.4%;
    width: 2.9375%;
}
.Wave_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.35%;
    top: 23.3%;
    width: 2.9375%;
}
.Spazer_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.35%;
    top: 24.1%;
    width: 2.9375%;
}
.Plasma_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.35%;
    top: 25%;
    width: 2.9375%;
}

.Varia_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 15.4%;
    width: 5.2875%;
}
.Gravity_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 16.2%;
    width: 5.2875%;
}
.Morph_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 18.9%;
    width: 5.2875%;
}
.Bomb_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 19.8%;
    width: 5.2875%;
}
.SpringBall_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 20.7%;
    width: 5.2875%;
}
.ScrewAttack_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 21.6%;
    width: 5.2875%;
}
.HiJump_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 24.2%;
    width: 5.2875%;
}
.SpaceJump_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 25%;
    width: 5.2875%;
}
.SpeedBooster_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 12.4%;
    top: 25.9%;
    width: 5.2875%;
}

.Missile_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 8.7%;
    width: 1.7625%;
}
.Super_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 8.3%;
    top: 8.7%;
    width: 1.175%;
}
.PowerBomb_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 10%;
    top: 8.7%;
    width: 1.175%;
}
.Grapple_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 11.7%;
    top: 8.7%;
    width: 1.175%;
}
.XRayScope_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 13.4%;
    top: 8.7%;
    width: 1.175%;
}
.Energy_pause {
    position: absolute;
    z-index: 0;
    left: 0.6%;
    top: 10%;
    width: 2.35%;
}
.Energy_90_pause {
    position: absolute;
    z-index: 0;
    left: 3.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Energy_9_pause {
    position: absolute;
    z-index: 0;
    left: 4.2%;
    top: 10.04%;
    width: 0.5875%;
}
.ETank_1_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 0.6%;
    top: 9%;
    width: 0.44%;
}
.ETank_2_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 1.2%;
    top: 9%;
    width: 0.44%;
}
.ETank_3_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 1.8%;
    top: 9%;
    width: 0.44%;
}
.ETank_4_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.4%;
    top: 9%;
    width: 0.44%;
}
.ETank_5_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 3%;
    top: 9%;
    width: 0.44%;
}
.ETank_6_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 3.6%;
    top: 9%;
    width: 0.44%;
}
.ETank_7_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 4.2%;
    top: 9%;
    width: 0.44%;
}
.ETank_8_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 0.6%;
    top: 8.2%;
    width: 0.44%;
}
.ETank_9_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 1.2%;
    top: 8.2%;
    width: 0.44%;
}
.ETank_10_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 1.8%;
    top: 8.2%;
    width: 0.44%;
}
.ETank_11_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.4%;
    top: 8.2%;
    width: 0.44%;
}
.ETank_12_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 3%;
    top: 8.2%;
    width: 0.44%;
}
.ETank_13_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 3.6%;
    top: 8.2%;
    width: 0.44%;
}
.ETank_14_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 4.2%;
    top: 8.2%;
    width: 0.44%;
}
.Reserve_1_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 1.75%;
    top: 18.1%;
    width: 0.66%;
}
.Reserve_2_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.35%;
    top: 18.1%;
    width: 0.66%;
}
.Reserve_3_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 2.9%;
    top: 18.1%;
    width: 0.66%;
}
.Reserve_4_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 3.5%;
    top: 18.1%;
    width: 0.66%;
}
.Missile_900_0_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_1_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_2_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_3_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_4_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_5_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_6_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_7_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_8_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_900_9_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_0_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_1_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_2_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_3_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_4_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_5_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_6_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_7_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_8_pause {
    position: absolute;
    z-index: 0;
    display: none;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_90_9_pause {
    position: absolute;
    z-index: 0;
    display: none;
    left: 6.6%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_0_pause {
    position: absolute;
    z-index: 0;
    display: none;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_1_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_2_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_3_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_4_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_5_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_6_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_7_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_8_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}
.Missile_9_9_pause {
    position: absolute;
    display: none;
    z-index: 0;
    left: 7.2%;
    top: 10.04%;
    width: 0.5875%;
}

.Super_900_0_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_1_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_2_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_3_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_4_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_5_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_6_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_7_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_8_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_900_9_pause {
    position: absolute;
    z-index: 0;
    left: 8.05%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_0_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_1_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_2_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_3_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_4_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_5_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_6_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_7_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_8_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_90_9_pause {
    position: absolute;
    z-index: 0;
    left: 8.6%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_0_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_1_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_2_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_3_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_4_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_5_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_6_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_7_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_8_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.Super_9_9_pause {
    position: absolute;
    z-index: 0;
    left: 9.15%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}

.PowerBomb_900_0_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_1_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_2_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_3_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_4_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_5_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_6_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_7_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_8_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_900_9_pause {
    position: absolute;
    z-index: 0;
    left: 9.9%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_0_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_1_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_2_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_3_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_4_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_5_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_6_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_7_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_8_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_90_9_pause {
    position: absolute;
    z-index: 0;
    left: 10.45%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_0_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_1_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_2_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_3_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_4_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_5_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_6_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_7_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_8_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}
.PowerBomb_9_9_pause {
    position: absolute;
    z-index: 0;
    left: 11%;
    top: 10.04%;
    width: 0.5875%;
    display: none;
}

.auto {
    position: absolute;
    z-index: 0;
    left: 5%;
    top: 8.79%;
    width: 0.95%;
    display: none;
}
.reserve_text {
    position: absolute;
    z-index: 0;
    left: 1.7%;
    top: 16.7%;
    width: 4.85%;
    display: none;
}

.reserve_0 {
    position: absolute;
    z-index: 0;
    left: 5.9%;
    top: 18.15%;
    width: 0.5875%;
    display: none;
}
.reserve_00 {
    position: absolute;
    z-index: 0;
    left: 5.2%;
    top: 18.15%;
    width: 0.5875%;
    display: none;
}
.reserve_1 {
    position: absolute;
    z-index: 0;
    left: 4.55%;
    top: 18.15%;
    width: 0.5875%;
    display: none;
}
.reserve_2 {
    position: absolute;
    z-index: 0;
    left: 4.55%;
    top: 18.15%;
    width: 0.5875%;
    display: none;
}
.reserve_3 {
    position: absolute;
    z-index: 0;
    left: 4.55%;
    top: 18.15%;
    width: 0.5875%;
    display: none;
}
.reserve_4 {
    position: absolute;
    z-index: 0;
    left: 4.55%;
    top: 18.15%;
    width: 0.5875%;
    display: none;
}
</style>

<script type="text/javascript">
var loaded = false;

//-----------------------------------------------------------
// AREAS TRACKER

var firstClick = "";
var secondClick = "";

var lines = {};
var leaderLines = {};
var nextColor = 0;
var linesSeq = new Array();

var colors = ['grey', 'lime', 'pink',  'fuchsia', 'orange', 'yellow', 'purple', 'aqua', 'red', '#bfef45', 'white', 'cyan', 'magenta', 'olive', 'green', 'blue', 'maroon', 'teal'];

function resetLines() {
  for (var startPoint in lines) {
    if(lines[startPoint] != "") {
      var endPoint = lines[startPoint];
      lines[startPoint] = "";
      lines[endPoint] = "";
      leaderLines[startPoint].remove();
      leaderLines[startPoint] = "";
      leaderLines[endPoint] = "";
    }
  }
  lines = {};
  leaderLines = {};
  linesSeq = [];
  nextColor = 0;
}

function checkCompatibleAPs(startAP, endAP) {
{{
  response.write("  var vanillaAPs = {};\n".format(vanillaAPs), escape=False)
  response.write("  var vanillaBossesAPs = {};\n".format(vanillaBossesAPs), escape=False)
}}

  return (vanillaAPs.includes(startAP) && vanillaAPs.includes(endAP)) || (vanillaBossesAPs.includes(startAP) && vanillaBossesAPs.includes(endAP));
}

function clickPortal(elemId) {
  if(loaded == false || webServInProgress == true) {
    return;
  }

  if(firstClick == ""){
    // highlight first element
    if(! (elemId in lines)){
      firstClick = elemId;
      $("#"+firstClick).addClass("addBorder");
    }
  } else if(firstClick == elemId){
    $("#"+firstClick).removeClass("addBorder");
    firstClick = "";
  } else if(secondClick == "" && elemId != firstClick) {

    if(! ((firstClick in lines) || (elemId in lines))) {
      if(checkCompatibleAPs(firstClick, elemId) == false) {
        alert("You can't mix Areas access points and Bosses access points");
        return;
      }

      secondClick = elemId;

      if(init == true) {
        ajaxCall({action: "add", scope: "area", startPoint: firstClick, endPoint: secondClick}, "upload");
        firstClick = "";
        secondClick = "";
      } else {
        // first init the isolver in seedless mode
        ajaxCall({action: "init", scope: "common", romJson: "", preset: "regular", fileName: "", mode: "seedless"},
                 "download", ajaxOkAddLine);
      }
    }
  }
}

function ajaxOkAddLine(data) {
  ajaxCall({action: "add", scope: "area", startPoint: firstClick, endPoint: secondClick}, "upload");
  firstClick = "";
  secondClick = "";
}

function addLine(startPoint, endPoint) {
  var startPointElem = document.getElementById(startPoint);
  var endPointElem = document.getElementById(endPoint);

  var line = new LeaderLine(startPointElem, endPointElem,
                            {startPlug: 'disc',
                             endPlug: 'disc',
                             dropShadow: true,
                             startPlugColor: colors[nextColor],
                             endPlugColor: colors[nextColor],
                             size: 4,
                             gradient: true,
                             outlineColor: 'rgb(255, 255, 255)',
                             outline: true,
                             outlineSize: 0.10});

  nextColor += 1;
  $("#"+startPoint).removeClass("addBorder");

  lines[startPoint] = endPoint;
  lines[endPoint] = startPoint;

  leaderLines[startPoint] = line;
  leaderLines[endPoint] = line;

  linesSeq.push(startPoint);
}

function clearLines() {
  if(loaded == false || webServInProgress == true) {
    return;
  }

  if(! isActive("binArea")) {
    return;
  }

  var result = confirm("Delete all the transitions ?");
  if(result == false){
    return;
  }

  ajaxCall({action: "clear", scope: "area"}, "upload");
}

function deleteLine() {
  if(loaded == false || webServInProgress == true) {
    return;
  }

  if(! isActive("repeatArea")) {
    return;
  }

  ajaxCall({action: "remove", scope: "area"}, "upload");
}

function startAnimation(elem) {
  if(elem.id in leaderLines) {
    var line = leaderLines[elem.id];
    line.dash = {animation: true};
  }
}

function stopAnimation(elem) {
  if(elem.id in leaderLines) {
    var line = leaderLines[elem.id];
    line.dash = false;
  }
}



//-----------------------------------------------------------
// COMMON

function ajaxFailJSON(jqXHR, textStatus) {
  webServInProgress = false;

  console.log("error ["+jqXHR.responseJSON+"] ["+jqXHR.responseText+"] ["+textStatus+"]");

  setWSIcon("warning");
  document.getElementById("flash").innerHTML = jqXHR.responseText;
  $('#flash').show();
}

function ajaxCall(dataDict, msg, okFunc=ajaxOkGet) {
    var request = $.ajax({
      url: "{{=URL(f='trackerWebService')}}",
      method: "POST",
      data: dataDict,
      dataType: "json",
      crossDomain: true
    });

    setWSIcon(msg);

    request.done(okFunc);
    request.fail(ajaxFailJSON);
}

function setWSIcon(icon) {
  var names = ["checkmark", "warning", "download", "upload", "refresh"];
  for(var i=0; i<names.length; i++) {
    if(names[i] == icon){
      document.getElementById(names[i]).style.display = "block";
    } else {
      document.getElementById(names[i]).style.display = "none";
    }
  }
}

function ajaxOkGet(jsonData) {
  webServInProgress = false;

  // get dicts availableLocations and visitedLocations
  console.log("json received: [ "+jsonData+" ]");
  if(jsonData == "OK") {
    setWSIcon("checkmark");
    return;
  }

  mode = jsonData["mode"];
  area = jsonData["areaRando"];
  seed = jsonData["seed"];
  preset = jsonData["preset"];
  init = true;

  document.getElementById("cur_mode").value = mode;
  document.getElementById("cur_seed").value = seed;
  document.getElementById("cur_preset").value = preset;

  if(mode != "standard") {
    hideItemPopup();
  }

  setActive(mode, area);

  resetItems();
  resetLines();

  if("availableLocations" in jsonData) {
    for(var locName in jsonData["availableLocations"]) {
      // console.log(locName+" is available");
      var locData = jsonData["availableLocations"][locName];
      locsInfo[locName]["state"] = "available";
      locsInfo[locName]["difficulty"] = locData["difficulty"];

      $("#"+locName).attr("class", "baseLoc marker_available_"+locData["difficulty"]);
      var tooltip = getTooltip(locName, locData, "?", false);
      $("#"+locName+'[data-toggle="tooltip"]').attr("title", tooltip).tooltip('fixTitle');

      // check if a boss was at that location
      if("boss" in locsInfo[locName]) {
        var boss = locsInfo[locName]["boss"];
        if(boss != "Mother Brain") {
          document.getElementById(boss+"G4").style.display = "none";
        }
      }
    }
  }

  if("visitedLocations" in jsonData) {
    for(var locName in jsonData["visitedLocations"]) {
      // console.log(locName+" is visited");
      var locData = jsonData["visitedLocations"][locName];
      locsInfo[locName]["state"] = "visited";
      locsInfo[locName]["difficulty"] = locData["difficulty"];

      // keep current loc zoomed
      var base = "baseLoc";
      if($("#"+locName).hasClass("baseLocOver")) {
        base = "baseLocOver";
      }

      var className = "marker_visited_"+locData["difficulty"]+"_"+locData["item"];
      $("#"+locName).attr("class", base+" "+className);
      var tooltip = getTooltip(locName, locData, locData["item"], true);
      $("#"+locName+'[data-toggle="tooltip"]').attr("title", tooltip).tooltip('fixTitle');

      // check if a boss was at that location
      if("boss" in locsInfo[locName]) {
        var boss = locsInfo[locName]["boss"];
        if(boss != "Mother Brain") {
          document.getElementById(boss+"G4").style.display = "block";
        }
      }

      // add item
      addItem(locData["item"]);
    }
  }

  setItemCount("Missile");
  setItemCount("Super");
  setItemCount("PowerBomb");
  setReserveCount();

  // set remaining locations as sequence breakable
  if("remainLocations" in jsonData) {
    for(var locName in jsonData["remainLocations"]) {
      // console.log(locName+": sequence breakable");
      var locData = jsonData["remainLocations"][locName];
      locsInfo[locName]["state"] = "break";
      locsInfo[locName]["difficulty"] = locData["difficulty"];

      // keep current loc zoomed
      var base = "baseLoc";
      if($("#"+locName).hasClass("baseLocOver")) {
        base = "baseLocOver";
      }

      var className = "marker_available_break";
      $("#"+locName).attr("class", base+" "+className);
      var tooltip = getTooltip(locName, locData, "?", false);
      $("#"+locName+'[data-toggle="tooltip"]').attr("title", tooltip).tooltip('fixTitle');

      // check if a boss was at that location
      if("boss" in locsInfo[locName]) {
        var boss = locsInfo[locName]["boss"];
        if(boss != "Mother Brain") {
          document.getElementById(boss+"G4").style.display = "none";
        }
      }
    }
  }

  if("lastLoc" in jsonData) {
    lastLoc = jsonData["lastLoc"];
  }
  $("#lastLoc").attr("class", "lastLoc "+lastLoc+"Gps");

  setWSIcon("checkmark");

  // add area transitions
  var arrayLength = jsonData["linesSeq"].length;
  for(var i=0; i<arrayLength; i++) {
    addLine(jsonData["linesSeq"][i][0], jsonData["linesSeq"][i][1]);
  }

  // if no available locations, display a popup telling you're stuck
  if(Object.keys(jsonData["availableLocations"]).length == 0) {
    if(jsonData["allTransitions"] == true && (( ! "state" in locsInfo["MotherBrain"] ) || locsInfo["MotherBrain"]["state"] != "visited")) {
      alert("You're stucked, you can't finish this seed with the given preset.");
    }
  }
}

function setActive(mode, area) {
  var itemElems = ["repeatItem", "binItem"];
  var plandoElems = ["repeatPlando", "binPlando", "savePlando"];
  var areaElems = ["repeatArea", "binArea"];
  if(mode != "plando") {
    for(var i=0; i<itemElems.length; i++) {
      $("#"+itemElems[i]).removeClass("greyed");
    }
    for(var i=0; i<plandoElems.length; i++) {
      $("#"+plandoElems[i]).addClass("greyed");
    }
  } else {
    for(var i=0; i<itemElems.length; i++) {
      $("#"+itemElems[i]).addClass("greyed");
    }
    for(var i=0; i<plandoElems.length; i++) {
      $("#"+plandoElems[i]).removeClass("greyed");
    }
  }
  if(area == true) {
    for(var i=0; i<areaElems.length; i++) {
      $("#"+areaElems[i]).removeClass("greyed");
    }
  } else {
    for(var i=0; i<areaElems.length; i++) {
      $("#"+areaElems[i]).addClass("greyed");
    }
  }
}

function isActive(elemId) {
  if(elemId.includes("Plando")) {
    if(mode == "plando") {
      return true;
    } else {
      return elemId == "startPlando";
    }
  }
  if(elemId.includes("Item")) {
    if(mode != "plando") {
      return true;
    } else {
      return elemId == "startItem";
    }
  }
  if(elemId.includes("Area")) {
    return area;
  }
}

//-----------------------------------------------------------
// ITEMS TRACKER

var lastLoc = "landingSite";
var mode = "standard";
var area = true;
var init = false;
var globalPlando = false;
var webServInProgress = false;

// can add more variables:
//  -state: posible values: ["available", "visited", "break"]
//  -difficulty: possible values: ["easy", "medium", "hard", "harder", "hardcore", "mania"]
var locsInfo = {
  EnergyTankGauntlet: {left: 29.4, top: 5.4},
  Bomb: {left: 37, top: 11.35},
  EnergyTankTerminator: {left: 24.8, top: 11.35},
  ReserveTankBrinstar: {left: 9.4, top: 56.3},
  ChargeBeam: {left: 13.3, top: 67.05},
  MorphingBall: {left: 34.3, top: 49.45},
  EnergyTankBrinstarCeiling: {left: 39.9, top: 49.45},
  EnergyTankEtecoons: {left: 2.9, top: 65.6},
  EnergyTankWaterway: {left: 4.7, top: 70.09},
  EnergyTankBrinstarGate: {left: 17.2, top: 62.5},
  XRayScope: {left: 42.7, top: 55.27},
  Spazer: {left: 57, top: 58.3},
  EnergyTankKraid: {left: 50.97, top: 66.8},
  VariaSuit: {left: 67.6, top: 66.75},
  IceBeam: {left: 38.6, top: 73.99},
  EnergyTankCrocomire: {left: 52, top: 86.05},
  HiJumpBoots: {left: 40.4, top: 80},
  GrappleBeam: {left: 36.65, top: 95.2},
  ReserveTankNorfair: {left: 51.02, top: 73.99},
  SpeedBooster: {left: 69.05, top: 73.95},
  WaveBeam: {left: 61.4, top: 76.9},
  EnergyTankRidley: {left: 75.6, top: 94.6},
  ScrewAttack: {left: 76.45, top: 90.4},
  EnergyTankFirefleas: {left: 92.5, top: 82.8},
  ReserveTankWreckedShip: {left: 71.71, top: 5.7},
  EnergyTankWreckedShip: {left: 74.7, top: 7.3},
  RightSuperWreckedShip: {left: 77.4, top: 13.3},
  GravitySuit: {left: 66.97, top: 7.2},
  EnergyTankMamaturtle: {left: 74.93, top: 52.3},
  PlasmaBeam: {left: 84.2, top: 36.87},
  ReserveTankMaridia: {left: 77.55, top: 56.85},
  SpringBall: {left: 89.1, top: 58.4},
  EnergyTankBotwoon: {left: 85.3, top: 46.2},
  SpaceJump: {left: 91.1, top: 50.9},
  PowerBombCrateriasurface: {left: 44.5, top: 3.9},
  MissileoutsideWreckedShipbottom: {left: 61.35, top: 10.1},
  MissileoutsideWreckedShiptop: {left: 62.1, top: 2.75},
  MissileoutsideWreckedShipmiddle: {left: 61.35, top: 5.55},
  MissileCrateriamoat: {left: 47.5, top: 8.4},
  MissileCrateriabottom: {left: 32.25, top: 29.6},
  MissileCrateriagauntletright: {left: 24.2, top: 6.9},
  MissileCrateriagauntletleft: {left: 23.2, top: 6.9},
  SuperMissileCrateria: {left: 36.1, top: 15.98},
  MissileCrateriamiddle: {left: 28.4, top: 12.85},
  PowerBombgreenBrinstarbottom: {left: 8.5, top: 61},
  SuperMissilepinkBrinstar: {left: 19.94, top: 64},
  MissilegreenBrinstarbelowsupermissile: {left: 7.5, top: 56.3},
  SuperMissilegreenBrinstartop: {left: 6.6, top: 54.9},
  MissilegreenBrinstarbehindmissile: {left: 10.55, top: 55.6},
  MissilegreenBrinstarbehindreservetank: {left: 10.37, top: 57},
  MissilepinkBrinstartop: {left: 13.3, top: 61},
  MissilepinkBrinstarbottom: {left: 13.3, top: 65.5},
  PowerBombpinkBrinstar: {left: 11.4, top: 62.5},
  MissilegreenBrinstarpipe: {left: 18, top: 67.2},
  PowerBombblueBrinstar: {left: 32.25, top: 49.45},
  MissileblueBrinstarmiddle: {left: 40.8, top: 49.45},
  SuperMissilegreenBrinstarbottom: {left: 1.9, top: 65.6},
  MissileblueBrinstarbottom: {left: 37, top: 50.99},
  MissileblueBrinstartop: {left: 38, top: 45.6},
  MissileblueBrinstarbehindmissile: {left: 38, top: 47},
  PowerBombredBrinstarsidehopperroom: {left: 54.15, top: 44.6},
  PowerBombredBrinstarspikeroom: {left: 54.15, top: 49.2},
  MissileredBrinstarspikeroom: {left: 53.2, top: 49.2},
  MissileKraid: {left: 54.9, top: 65.2},
  Missilelavaroom: {left: 48, top: 76.95},
  MissilebelowIceBeam: {left: 35.7, top: 76.95},
  MissileaboveCrocomire: {left: 45.2, top: 80.1},
  MissileHiJumpBoots: {left: 41.4, top: 78.6},
  EnergyTankHiJumpBoots: {left: 42.4, top: 78.5},
  PowerBombCrocomire: {left: 42.4, top: 86.05},
  MissilebelowCrocomire: {left: 47, top: 93.7},
  MissileGrappleBeam: {left: 41.3, top: 93.8},
  MissileNorfairReserveTank: {left: 51.9, top: 73.95},
  MissilebubbleNorfairgreendoor: {left: 53.8, top: 73.95},
  MissilebubbleNorfair: {left: 55.7, top: 78.45},
  MissileSpeedBooster: {left: 68.1, top: 73.95},
  MissileWaveBeam: {left: 58.55, top: 77.1},
  MissileGoldTorizo: {left: 74.5, top: 88.9},
  SuperMissileGoldTorizo: {left: 75.5, top: 88.9},
  MissileMickeyMouseroom: {left: 84.1, top: 81.4},
  MissilelowerNorfairabovefireflearoom: {left: 90.75, top: 73.7},
  PowerBomblowerNorfairabovefireflearoom: {left: 92.6, top: 75.2},
  PowerBombPowerBombsofshame: {left: 87.9, top: 87.35},
  MissilelowerNorfairnearWaveBeam: {left: 85, top: 73.7},
  MissileWreckedShipmiddle: {left: 68.9, top: 11.75},
  MissileGravitySuit: {left: 69.8, top: 7.2},
  MissileWreckedShiptop: {left: 77.4, top: 2.65},
  SuperMissileWreckedShipleft: {left: 71.8, top: 13.3},
  MissilegreenMaridiashinespark: {left: 67.3, top: 52.2},
  SuperMissilegreenMaridia: {left: 68.1, top: 50.75},
  MissilegreenMaridiatatori: {left: 75.7, top: 53.7},
  SuperMissileyellowMaridia: {left: 69.6, top: 43.1},
  MissileyellowMaridiasupermissile: {left: 68.6, top: 43.1},
  MissileyellowMaridiafalsewall: {left: 76.7, top: 43},
  MissileleftMaridiasandpitroom: {left: 76.7, top: 55.4},
  MissilerightMaridiasandpitroom: {left: 79.6, top: 55.4},
  PowerBombrightMaridiasandpitroom: {left: 80.5, top: 56.8},
  MissilepinkMaridia: {left: 80.5, top: 47.85},
  SuperMissilepinkMaridia: {left: 81.5, top: 47.85},
  MissileDraygon: {left: 97.65, top: 44.7},
  Kraid: {left: 66.16, top: 66, boss: "Kraid"},
  Ridley: {left: 76.6, top: 93.8, boss: "Ridley"},
  Phantoon: {left: 78.8, top: 16.3, boss: "Phantoon"},
  Draygon: {left: 92.6, top: 50, boss: "Draygon"},
  MotherBrain: {left: 22, top: 33.2, boss: "Mother Brain"}
};

window.onload = function(){
  ajaxCall({action: "get", scope: "common"}, "download");
  $("#lastLoc").attr("class", "lastLoc "+lastLoc+"Gps");

  // display the help on first connection to the tracker
{{
  if "firstTime" in session.tracker and session.tracker["firstTime"] == True:
    session.tracker["firstTime"] = False
}}
    startTheTour(0);
{{
    pass
}}

  var filesInput = document.getElementById("uploadFile");
  filesInput.addEventListener("change", function(event) {
    var files = event.target.files; // It returns a FileList object
    var file = files[0];
  
    var reader = new FileReader();
  
    reader.onload = function(e) {
  	// check sfc or smc extention
        var re = /(?:\.([^.]+))?$/;
  	var ext = re.exec(file.name)[1];
        if( ! (ext === "sfc" || ext === "smc") ) {
            document.getElementById("uploadFile").value = "";
            alert("wrong extension: "+ext);
            return false;
        }

        var re = /((.*)\.[^.]+)?$/;
        var base = re.exec(file.name)[1];
  
        var outFileName = file.name.replace(/\.[^/.]+$/, ".json");
        document.getElementById("fileName").value = file.name;

        var fileSize = file.size;
  	if( fileSize > 4*1024*1024 ) {
            document.getElementById("uploadFile").value = "";
            alert("Wrong ROM file size: "+fileSize.toString());
            return false;
        }
  
        var bytes = new Uint8Array(e.target.result);
  
        // locations items
        var addresses = new Array(0x78264, 0x78404, 0x78432, 0x7852C, 0x78614, 0x786DE, 0x7879E, 0x787C2, 0x787FA, 0x78824, 0x78876, 0x7896E, 0x7899C, 0x78ACA, 0x78B24, 0x78BA4, 0x78BAC, 0x78C36, 0x78C3E, 0x78C82, 0x78CCA, 0x79108, 0x79110, 0x79184, 0x7C2E9, 0x7C337, 0x7C365, 0x7C36D, 0x7C47D, 0x7C559, 0x7C5E3, 0x7C6E5, 0x7C755, 0x7C7A7, 0x781CC, 0x781E8, 0x781EE, 0x781F4, 0x78248, 0x783EE, 0x78464, 0x7846A, 0x78478, 0x78486, 0x784AC, 0x784E4, 0x78518, 0x7851E, 0x78532, 0x78538, 0x78608, 0x7860E, 0x7865C, 0x78676, 0x7874C, 0x78798, 0x787D0, 0x78802, 0x78836, 0x7883C, 0x788CA, 0x7890E, 0x78914, 0x789EC, 0x78AE4, 0x78B46, 0x78BC0, 0x78BE6, 0x78BEC, 0x78C04, 0x78C14, 0x78C2A, 0x78C44, 0x78C52, 0x78C66, 0x78C74, 0x78CBC, 0x78E6E, 0x78E74, 0x78F30, 0x78FCA, 0x78FD2, 0x790C0, 0x79100, 0x7C265, 0x7C2EF, 0x7C319, 0x7C357, 0x7C437, 0x7C43D, 0x7C483, 0x7C4AF, 0x7C4B5, 0x7C533, 0x7C5DD, 0x7C5EB, 0x7C5F1, 0x7C603, 0x7C609, 0x7C74D);
        var romData = {};
  
        var arrayLength = addresses.length;
        for(var i=0; i<arrayLength; i++) {
            romData[addresses[i]] = bytes[addresses[i]];
            romData[addresses[i]+1] = bytes[addresses[i]+1];
            romData[addresses[i]+4] = bytes[addresses[i]+4];
        }
  
        // startCeres
        romData[0x7F1F] = bytes[0x7F1F];
        // startLS
        romData[0x7F17] = bytes[0x7F17];
        // layout
        romData[0x21BD80] = bytes[0x21BD80];
        // casual
        romData[0x22E879] = bytes[0x22E879];
        // gravity
        romData[0x06e37d] = bytes[0x06e37d];
        // varia tweaks
        romData[0x7CC4D] = bytes[0x7CC4D];
        // area
        romData[0x22D564] = bytes[0x22D564];
        // area layout
        romData[0x252FA7] = bytes[0x252FA7];
        // boss rando
        romData[0x246C09] = bytes[0x246C09];

        // transitions
        var addresses = new Array(0x18c22, 0x18aea, 0x18a42, 0x18e9e, 0x18bfe, 0x18e86, 0x18f0a, 0x189ca, 0x18aae, 0x196d2, 0x19a4a, 0x1922e, 0x195fa, 0x1967e, 0x1a39c, 0x1a510, 0x18aa2, 0x1a480, 0x1902a, 0x190c6, 0x18af6, 0x1a384, 0x1a390, 0x1a330, 0x18c52, 0x191e6, 0x1913e, 0x1923a, 0x1a2ac, 0x1a2c4, 0x198ca, 0x198be, 0x191b6, 0x191ce, 0x1a840, 0x1a96c);
        var arrayLength = addresses.length;
        for(var i=0; i<arrayLength; i++) {
            romData[addresses[i]] = bytes[addresses[i]]
            romData[addresses[i]+1] = bytes[addresses[i]+1];
            romData[addresses[i]+6] = bytes[addresses[i]+6];
            romData[addresses[i]+7] = bytes[addresses[i]+7];
        }
  
        // bank B8
        for(var i=0x1C0000; i<=0x1C7FFF; i++){
          romData[i] = bytes[i];
        }

        // plando addresses
        for(var i=0x2F6000; i<0x2F6080; i++) {
          romData[i] = bytes[i];
        }
        // plando transitions (4 bytes per transitions, ap#/2 transitions)
        for(var i=0x2F6080; i<0x2F6080+((arrayLength/2) * 4); i++) {
          romData[i] = bytes[i];
        }

        // majors split
        romData[0x17B6C] = bytes[0x17B6C];

        romData["romFileName"] = outFileName;
  
        var json = JSON.stringify(romData);
  
        var output = document.getElementById("romJson");
        output.value = json;

        setGuessedPreset(file.name);
    }
  
    reader.readAsArrayBuffer(file);
  }, false);

  loaded = true;
}

function setGuessedPreset(romName){
  var preset = guessVARIAPreset(romName);
  if(preset != null) {
    document.getElementById("preset").value = preset;
    $("#preset").trigger("chosen:updated");
  }
}

function guessVARIAPreset(filename) {
  var re = /VARIA_Randomizer_[A]?[B]?[F]?[Z]?X\d+_(\w+)/;
  var match = filename.match(re);
  if(match == null) {
    re = /VARIA_Plandomizer_[A]?[B]?FX\d+_(\w+)/;
    match = filename.match(re);
  }
  if(match != null) {
    var data = match[1];
    console.log(data);

    var re = /^(.*)_([a-zA-Z0-9]+)$/;
    var match = data.match(re);

    console.log(match);

    if(match != null){
      var pS = match[2];
      if(pS == "slowest" || pS == "slow" || pS == "medium" || pS == "fast" || pS == "fastest" || pS == "basic" || pS == "VARIAble") {
        return match[1];
      } else {
        return match[1] + '_' + match[2];
      }
    } else {
      return data;
    }
  } else {
    return null;
  }
}

function mouseOver(elem) {
  var locName = elem.id;

  if("state" in locsInfo[locName]) {
    $(elem).removeClass("baseLoc");
    $(elem).addClass("baseLocOver");

    if(locsInfo[locName]["state"] == "available"){
      var className = "marker_"+locsInfo[locName]["state"]+"_"+locsInfo[locName]["difficulty"];
      var classNameOver = "marker_over_"+locsInfo[locName]["difficulty"];
      $(elem).removeClass(className);
      $(elem).addClass(classNameOver);
    }

    var newTop = locsInfo[locName].top - 0.75;
    var newLeft = locsInfo[locName].left - 0.5;
    $(elem).css({"top": newTop+"%", "left": newLeft+"%"});
  }
}

function mouseOut(elem) {
  var locName = elem.id;

  if("state" in locsInfo[locName]) {
    $(elem).removeClass("baseLocOver");
    $(elem).addClass("baseLoc");

    if(locsInfo[locName]["state"] == "available"){
      var className = "marker_"+locsInfo[locName]["state"]+"_"+locsInfo[locName]["difficulty"];
      var classNameOver = "marker_over_"+locsInfo[locName]["difficulty"];
      $(elem).removeClass(classNameOver);
      $(elem).addClass(className);
    }

    var newTop = locsInfo[elem.id].top;
    var newLeft = locsInfo[elem.id].left;
    $(elem).css({"top": newTop+"%", "left": newLeft+"%"});
  }
}

function save() {
  if(! isActive("savePlando")) {
    return;
  }

  var uploadFile = document.getElementById("uploadFile");
  if(uploadFile.files.length == 0) {
    var saveFile = document.getElementById("saveFile");
    if(saveFile.files.length == 0) {
      // display popup to choose the local ROM
      document.getElementById("savePopup").style.display = "block";
    } else {
      // call WS
      ajaxCall({action: "save", scope: "common"}, "download", ajaxOkSave);
    }
  } else {
    // call WS
    ajaxCall({action: "save", scope: "common"}, "download", ajaxOkSave);
  }
}

function ajaxOkSave(data) {
  webServInProgress = false;

  console.log("ajaxSaveOk");

  var uploadFile = document.getElementById("uploadFile");
  if(uploadFile.files.length == 0) {
    uploadFile = document.getElementById("saveFile");
  }

  var file = uploadFile.files[0];

  var reader = new FileReader();
  reader.readAsArrayBuffer(file)

  reader.onload = function(e) {
      var bytes = new Uint8Array(e.target.result);

      for(var key in data) {
          if(key === "fileName" || key === "errorMsg") { continue; }
          bytes[key] = data[key];
      }

      var blob = new Blob([bytes], {type: "octet/stream"})

      var outFileName = data['fileName']
      saveAs(blob, outFileName)
  }

  // info message to display ?
  if("errorMsg" in data && data["errorMsg"].length > 0) {
    document.getElementById("flash").innerHTML = data["errorMsg"];
    $('#flash').show();
  }

  setWSIcon("checkmark");
  hideSavePopup();
}

function displayPopup(isPlando) {
  if(loaded == false || webServInProgress == true) {
    return;
  }

  globalPlando = isPlando;

  if(isPlando == true) {
    document.getElementById("solverPopupText").innerHTML = "Select an already randomized ROM as base to start your Plando, or a Plando ROM to continue working on it";
  } else {
    document.getElementById("solverPopupText").innerHTML = "Select your randomized ROM to solve, or none for seed less mode";
  }

  // display popup
  document.getElementById("solverPopup").style.display = "block";
  // chosen must be activated when it's visible, else it doesn't work...
  $(".chzn-select").chosen();
}

function hidePopup() {
  document.getElementById("solverPopup").style.display = "none";
}

function initSolver() {
  console.log("initSolver");

  var mode = "seedless";
  var romJson = document.getElementById("romJson");
  var romJsonValue = romJson.value;

  if(globalPlando == true) {
    mode = "plando";
    if(romJsonValue.length == 0){
      return;
    }
  } else {
    if(romJsonValue.length == 0) {
      mode = "seedless";
    } else {
      mode = "standard";
    }
  }

  // reset everything
  resetLocsInfo();

  // prepare parameters for WS
  ajaxCall({action: "init", scope: "common", romJson: romJsonValue,
            preset: document.getElementById("preset").value,
            fileName: document.getElementById("fileName").value,
            mode: mode}, "download");

  hidePopup();
}

function clickLoc(elem) {
  if(loaded == false || webServInProgress == true) {
    return;
  }

  var locName = elem.id;

  if(mode != "standard") {
    // we don't put an item in boss locations
    if("boss" in locsInfo[locName]) {
      // check that lock is in the available list
      if("state" in locsInfo[locName] && (locsInfo[locName]["state"] == "available" || locsInfo[locName]["state"] == "break")) {
        ajaxCall({action: "add", scope: "item", locName: locName, itemName: "Nothing"}, "upload");

        if(locName == "MotherBrain") {
          alert("SEE YOU NEXT MISSION");
        }
      }
      return;
    }

    if(mode == "plando") {
      document.getElementById("itemPopupText").innerHTML = "Item to place at "+locName+":";
    } else {
      document.getElementById("itemPopupText").innerHTML = "Item picked up at "+locName+":";
    }
    document.getElementById("locName").value = locName;

    // display item selector
    document.getElementById("itemPopup").style.display = "block";
  } else {
    // check that lock is in the available list
    if("state" in locsInfo[locName] && (locsInfo[locName]["state"] == "available" || locsInfo[locName]["state"] == "break")) {
      // call webservice
      ajaxCall({action: "add", scope: "item", locName: locName}, "upload");
  
      // if mother brain loc, display end message
     if(locName == "MotherBrain") {
       alert("SEE YOU NEXT MISSION");
     }
    }
  }
}

function placeItem() {
  var item = document.getElementById("item").value;
  var locName = document.getElementById("locName").value;

  // check if not already 14 etanks or 4 reserves
  if(item == "ETank" && itemCount["ETank"] == 14) {
    alert("Can't add more Energy tank");
  } else if (item == "Reserve" && itemCount["Reserve"] == 4) {
    alert("Can't add more Reserve tank");
  } else {
    // check that lock is in the available list
    if("state" in locsInfo[locName] && (locsInfo[locName]["state"] == "available" || locsInfo[locName]["state"] == "break")) {
      ajaxCall({action: "add", scope: "item", locName: locName, itemName: item}, "upload");
    }
  }
}

function hideItemPopup() {
  document.getElementById("itemPopup").style.display = "none";
}

function hideSavePopup() {
  document.getElementById("savePopup").style.display = "none";
}

function deleteLoc(isPlando) {
  if(loaded == false || webServInProgress == true) {
    return;
  }
  if(isPlando == true && ! isActive("repeatPlando")) {
    return;
  }
  if(isPlando == false && ! isActive("repeatItem")) {
    return;
  }

  // reset everything
  resetLocsInfo();

  ajaxCall({action: "remove", scope: "item"}, "upload");
}

function resetLocsInfo() {
  // remove info and reset css
  var keys = ["state", "difficulty"];
  for(var locName in locsInfo) {
    for(var i in keys) {
      var key = keys[i];
      // console.log("is "+keys[key]+" in locsInfo["+locName+"] ?");
      if(key in locsInfo[locName]) {
        // console.log("delete locsInfo["+locName+"]["+key+"]");
        delete locsInfo[locName][key];
      }
    }
    $("#"+locName).attr("class", "baseLoc");
    $("#"+locName+'[data-toggle="tooltip"]').attr("title", "").tooltip('fixTitle');
    $("#"+locName+'[data-toggle="tooltip"]').attr("data-original-title", "").tooltip('fixTitle');
  }
  lastLoc = "landingSite";
  $("#lastLoc").attr("class", "lastLoc "+lastLoc+"Gps");
}

function clearLocs(isPlando) {
  if(loaded == false || webServInProgress == true) {
    return;
  }
  if(isPlando == true && ! isActive("binPlando")) {
    return;
  }
  if(isPlando == false && ! isActive("binItem")) {
    return;
  }

  var msg = "Reset the locations of the Interactive VARIA ";
  if(isPlando == true) {
    msg = msg + "Plandomizer ?";
  } else {
    msg = msg + "Solver ?"
  }

  var result = confirm(msg);
  if(result == false){
    return;
  }

  resetLocsInfo();

  // reset the state server side
  ajaxCall({action: "clear", scope: "item"}, "upload");
}

function getTooltip(locName, locData, item, visited) {
  var tooltip = "<center>"+locData["name"]+"</center>";

  if("boss" in locsInfo[locName]) {
    tooltip += "Boss: "+locsInfo[locName]["boss"]+"<br>";
  }

  if(visited == true) {
    return tooltip+"Item: "+item;

  } else {
    return tooltip+"Techniques: "+(locData["knows"].length > 0 ? locData["knows"] : "None")+"<br>Items: "+(locData["items"].length > 0 ? locData["items"] : "None")+("path" in locData ? "<br>Path: "+locData["path"] : "")+("comeBack" in locData && locData["comeBack"] == false ? "<br>WARNING: Can't come back" : "");

  }
}

var itemCount = {
  "ETank": 0,
  "Reserve": 0,
  "Missile": 0,
  "Super": 0,
  "PowerBomb": 0
}

function resetItems() {
  itemCount["ETank"] = 0;
  itemCount["Reserve"] = 0;
  itemCount["Missile"] = 0;
  itemCount["Super"] = 0;
  itemCount["PowerBomb"] = 0;

  for(var i=1; i<=14; i++) {
    document.getElementById("ETank_"+i+"_pause").style.display = "none";
  }
  for(var i=1; i<=4; i++) {
    document.getElementById("Reserve_"+i+"_pause").style.display = "none";
  }

  var items = ["Charge", "Ice", "Wave", "Spazer", "Plasma", "Varia", "Gravity", "Morph", "Bomb", "SpringBall", "ScrewAttack", "HiJump", "SpaceJump", "SpeedBooster", "Missile", "Super", "PowerBomb", "Grapple", "XRayScope"];
  for(var item in items) {
    document.getElementById(items[item]+"_pause").style.display = "none";
  }
}

function addItem(itemName) {
  if(itemName == "Nothing" || itemName == "NoEnergy") {
    return;
  }
  if(itemName in itemCount) {
    itemCount[itemName] += 1
    if(itemName == "Missile" || itemName == "Super" || itemName == "PowerBomb") {
      document.getElementById(itemName+"_pause").style.display = "block";
    } else {
      document.getElementById(itemName+"_"+itemCount[itemName]+"_pause").style.display = "block";
    }
  } else {
    document.getElementById(itemName+"_pause").style.display = "block";
  }
}

function pad(x, n) {
  return ('' + (1000 + x)).substring(4-n, x.length);
}

function setReserveCount() {
  for(var i=1; i<=4; i++) {
    document.getElementById("reserve_"+i).style.display = "none";
  }
  document.getElementById("auto").style.display = "none";
  document.getElementById("reserve_text").style.display = "none";
  document.getElementById("reserve_0").style.display = "none";
  document.getElementById("reserve_00").style.display = "none";

  if(itemCount["Reserve"] == 0) {
    return;
  }

  document.getElementById("auto").style.display = "block";
  document.getElementById("reserve_text").style.display = "block";
  document.getElementById("reserve_0").style.display = "block";
  document.getElementById("reserve_00").style.display = "block";

  document.getElementById("reserve_"+itemCount["Reserve"]).style.display = "block";
}

function setItemCount(itemName) {
  var count = itemCount[itemName]*5;

  // reset everything to display none
  for(var i=0; i<=9; i++) {
    for(var j=9; j<=900; j*=10) {
      document.getElementById(itemName+"_"+j+"_"+i+"_pause").style.display = "none";
    }
  }

  if(count == 0) {
    return;
  }

  count = pad(count, 3);

  // display current count
  for(var j=9; j<=900; j*=10) {
    var i = Math.ceil(Math.log10(j));
    document.getElementById(itemName+"_"+j+"_"+count[count.length-i]+"_pause").style.display = "block";
  }

}

$(window).scroll(function(){
  $("#itemPopup").stop().animate({"marginTop": ($(window).scrollTop()) + "px"}, "fast" );
});

//-----------------------------------------------------------
// TUTORIAL

function startTheTour(step=-1) {
  // the tour tutorial
  var tour = new Tour({
    storage: false,
    steps: [{
      element: "#help",
      title: "VARIA Area & Item Tracker",
      content: "<h2 class=\"center\">Welcome to the VARIA Areas/Bosses & Items Tracker</h2><h4>Areas/Bosses Tracker</h4><p>The Areas and Bosses Tracker allows you to track the connections between the areas and bosses portals.<br/>To use it, click on a portal <img src=\"/solver/static/images/portal.png\" alt=\"Portal\" style=\"width: 20px\">, it'll highlight it, then click on a second portal, it'll draw a line between the two portals.<br/>You can delete the latest added transition with the <img src=\"/solver/static/images/repeat.svg\" alt=\"Cancel Last\" style=\"width: 32px\"> button and all of them with the <img src=\"/solver/static/images/bin.svg\" alt=\"Remove all\" style=\"width: 32px\"> button.<br/>Only the locations of connected areas/bosses are computed by the Items Tracker (as such if the ROM is not Areas/Bosses randomized the vanilla transitions will be automatically added).<br/><h4>Items Tracker</h4><p>The Items Tracker allows you to use the Solver in interactive mode.<br/>To use it, click on the <img src=\"/solver/static/images/play.svg\" alt=\"Start\" style=\"width: 32px\"> button to upload your ROM and choose your preset (like on the Solver page).<br/>Then the available locations will be displayed on the map, click on a location after you've collected the item of the location in the game, it'll update the next available locations.<br/>The color of the icon on the available locations matchs the difficulty to reach the location:<table><tr><td><img src=\"/solver/static/images/marker_easy.gif\" alt=\"easy\" style=\"width: 32px; background-color: #000;\"> easy</td><td><img src=\"/solver/static/images/marker_medium.gif\" alt=\"medium\" class=\"diffHelp\"> medium</td></td><td><img src=\"/solver/static/images/marker_hard.gif\" alt=\"hard\" class=\"diffHelp\"> hard</td></tr><tr><td><img src=\"/solver/static/images/marker_harder.gif\" alt=\"harder\" class=\"diffHelp\"> very hard</td><td><img src=\"/solver/static/images/marker_hardcore.gif\" alt=\"hardcore\" class=\"diffHelp\"> hardcore</td><td><img src=\"/solver/static/images/marker_mania.gif\" alt=\"mania\" class=\"diffHelp\"> mania</td></tr><tr><td colspan=\"3\"><img src=\"/solver/static/images/marker_break.png\" alt=\"break\" class=\"diffHelp\"> sequence break</td></tr></table>The locations not available are displayed with the Sequence Break icon, allowing you to collect them when you sequence break.<br/>When a location has been visited its icon displays the collected item: <img src=\"/solver/static/images/marker_visited_easy_Gravity.png\" alt=\"Visited\" style=\"width: 32px\"> or this if no item was found: <img src=\"/solver/static/images/marker_visited_easy.png\" alt=\"Visited\" style=\"width: 32px\">, one color for each difficulty.<br/>When overing the mouse cursor on an available location a tooltip is displayed with the location's name, the techniques and items used to access it.<br/>After the location has been visited only the collected item is displayed.<br/>The locations availability are computed from the current access point which is displayed with this: <img src=\"/solver/static/images/gps.png\" alt=\"last access point\" style=\"width: 32px\"></p><h4>Touch screen tablette mode</h4>You can use the tracker on you touch screen tablette without a ROM file, aka seed less mode, to start using it you can either leave the \"Randomized Super Metroid ROM\" input empty after clicking on the <img src=\"/solver/static/images/play.svg\" alt=\"Start\" style=\"width: 32px\"> button or connect two portals.<br/>When clicking on a location a popup will be displayed allowing you to tell the Solver which item you collected in the game.<h4>Auto Save</h4><p>Both trackers feature an auto save functionnality, so you can do your seed in multiple seatings.<br/>The different status icons of the auto save:<table><tr><td><img src=\"/solver/static/images/refresh.svg\" style=\"width: 32px\"> Loading in progress</td><td><img src=\"/solver/static/images/checkmark.svg\" style=\"width: 32px\"> Save ok</td></tr><tr><td><img src=\"/solver/static/images/cloud_upload.png\" style=\"width: 32px\"> Upload in progress</td><td><img src=\"/solver/static/images/cloud_download.svg\" style=\"width: 32px\"> Download in progress</td></tr><tr><td colspan=\"2\"><img src=\"/solver/static/images/warning.svg\" style=\"width: 32px\"> Something wrong happened (try reloading the page)</td></tr></table></p><p>You can display this help again by clicking on the <img src=\"/solver/static/images/help.svg\" alt=\"help\" style=\"width: 32px\"> button.</p><p><h4>Thanks to</h4><ul><li>Animated location icons by Djlo</li><li>Location icons from Alli_Cat's <a href='https://github.com/allibear17/Super-Metroid-Location-Tracker'>Location Tracker</a></li><li>G4 sprite from Crossproduct's <a href=\"https://www.twitch.tv/crossproduct\">smrandohelper</a></li><li>Action icons from <a href='https://dryicons.com/icon-packs/stylistica-icons-set'>Dryicons</a></li></ul></p>"
    },
    {
      element: "#helpPlando",
      title: "VARIA Plando Generator",
      content: "<h2 class=\"center\">Welcome to the VARIA Plando Generator</h2><p>The Plando (a Plando is a Super Metroid seed with manually placed items) Generator allows you to create your own Plando in interactive mode.<br/>To use it, click on the <img src=\"/solver/static/images/play.svg\" alt=\"Start\" style=\"width: 32px\"> button to upload your ROM and choose your preset (like on the Solver page).<br/>As a base for your Plando ROM you should generate a seed on the Randomizer page with all the optional patches that you need.<br/>The available locations will be displayed on the map, click on a location and a popup will be displayed allowing you to choose which item to place.<br/>You can put the same major item at several locations.</p><p>When you're done click on the <img src=\"/solver/static/images/save.svg\"alt=\"Save\" style=\"width: 32px\"> button to save the Plando ROM on your Computer. You can resume working on it later by uploading the saved Plando ROM.</p><h4>Areas/Bosses</h4><p>Choose an Areas and/or Bosses seed as your base ROM to use the Plando Generator in items and areas/bosses mode, aka you choose the transitions between the areas/bosses.</p>",
      placement: "auto left"
    }]
  });

  // Initialize the tour
  tour.init();

  // Start the tour
  if(step != -1) {
    tour.goTo(step);
  }
  tour.start();
}

</script>

<div class="fixed">
  <div class="menu">
    <table class="full menuTable">
      <tr>
	<td>{{=A("Home", _href=URL(f="home"), _class="menu")}}</td>
	<td>{{=A("Presets", _href=URL(f="presets"), _class="menu")}}</td>
	<td>{{=A("Randomizer", _href=URL(f="randomizer"), _class="menu")}}</td>
	<td>{{=A("Solver", _href=URL(f="solver"), _class="menu")}}</td>
	<td class="menu_selected">{{=A("Trackers", _href=URL(f="tracker"), _class="menu")}}</td>
	<td>{{=A("Information & Contact", _href=URL(f="infos"), _class="menu")}}</td>
      </tr>
    </table>
  </div>
</div>

<div class="main">
  <div id="solverPopup" class="solverPopup">
    <p id="solverPopupText"></p>
    <table class="full">
      <colgroup><col class="half" /><col class="half" /></colgroup>
      <tr>
	<td>Current Mode: </td>
	<td><input type="text" name="cur_mode" id="cur_mode" value="n/a" readonly class="full"></td>
      </tr>
      <tr>
	<td>Current Seed: </td>
	<td><input type="text" name="cur_seed" id="cur_seed" value="n/a" readonly class="full"></td>
      </tr>
      <tr>
	<td>Current Preset: </td>
	<td><input type="text" name="cur_preset" id="cur_preset" value="n/a" readonly class="full"></td>
      </tr>
      <tr>
	<td>Randomized Super Metroid ROM: </td>
	<td><input id="uploadFile" name="uploadFile" type="file"/></td>
      </tr>
      <tr>
	<td>Preset:</td>
	<td>{{=SELECT(OPTGROUP(*stdPresets, **dict(_label="Standard presets")), OPTGROUP(*comPresets, **dict(_label="Community presets")), **dict(_name="preset", _id="preset", value=session.tracker["preset"], _class="filldropdown chzn-select"))}}</td>
      </tr>
    </table>
    <table>
      <tr>
	<td class="half"><button type="button" onclick="initSolver()" class="full">Init</button></td>
	<td class="half"><button type="button" onclick="hidePopup()" class="full">Cancel</button></td>
      </tr>
    </table>
    <input id="romJson" name="romJson" style="display:none" type="text"/>
    <input id="fileName" name="fileName" style="display:none" type="text"/>
    <input id="mode" name="mode" style="display:none" type="text"/>
  </div>

  <div id="itemPopup" class="itemPopup">
    <input id="locName" name="locName" style="display:none" type="text"/>
    <table class="full">
      <colgroup><col class="half" /><col class="half" /></colgroup>
      <tr>
	<td><p id="itemPopupText">Item to place at LOC:</p></td>
	<td>
	  <select class="filldropdown" id="item" name="item"><optgroup label="Nothing"><option value="Nothing">Nothing</option></optgroup><optgroup label="Minors"><option value="Missile">Missile</option><option value="Super">Super Missile</option><option value="PowerBomb">Power Bomb</option></optgroup><optgroup label="Energy"><option value="ETank">Energy Tank</option><option value="Reserve">Reserve Tank</option></optgroup><optgroup label="Beams"><option value="Charge">Charge Beam</option><option value="Ice">Ice Beam</option><option value="Wave">Wave Beam</option><option value="Spazer">Spazer</option><option value="Plasma">Plasma Beam</option></optgroup><optgroup label="Items"><option value="Varia">Varia Suit</option><option value="Gravity">Gravity Suit</option><option value="Morph">Morph Ball</option><option value="Bomb">Bomb</option><option value="SpringBall">Spring Ball</option><option value="ScrewAttack">Screw Attack</option><option value="HiJump">Hi-Jump Boots</option><option value="SpaceJump">Space Jump</option><option value="SpeedBooster">Speed Booster</option><option value="Grapple">Grapple Beam</option><option value="XRayScope">X-Ray Scope</option></optgroup></select>
	</td>
      </tr>
    </table>
    <table>
      <tr>
	<td class="half"><button type="button" onclick="placeItem()" class="full">Place</button></td>
	<td class="half"><button type="button" onclick="hideItemPopup()" class="full">Cancel</button></td>
      </tr>
    </table>
  </div>

  <div id="savePopup" class="itemPopup">
    <p>
      The page has been reloaded, please select again your ROM.
    </p>
    <table class="full">
      <colgroup><col class="half" /><col class="half" /></colgroup>
      <tr>
	<td>Randomized Super Metroid ROM: </td>
	<td><input id="saveFile" name="saveFile" type="file"/></td>
      </tr>
    </table>
    <table>
      <tr>
	<td class="half"><button type="button" onclick="save()" class="full">Save</button></td>
	<td class="half"><button type="button" onclick="hideSavePopup()" class="full">Cancel</button></td>
      </tr>
    </table>
  </div>

  <div class="map_container">
    <!-- the map -->
    <img id="map" src="/solver/static/images/area_map.png" class="center">

    <!-- the access points -->
    <div id="lowerMushroomsLeft" class="baseButton" onclick="clickPortal('lowerMushroomsLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Lower Mushrooms Left"></div>
    <div id="moatRight" class="baseButton" onclick="clickPortal('moatRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Moat Right"></div>
    <div id="greenPiratesShaftBottomRight" class="baseButton" onclick="clickPortal('greenPiratesShaftBottomRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Green Pirates Shaft Bottom Right"></div>
    <div id="keyhunterRoomBottom" class="baseButtonRot" onclick="clickPortal('keyhunterRoomBottom')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Keyhunter Room Bottom"></div>
    <div id="morphBallRoomLeft" class="baseButton" onclick="clickPortal('morphBallRoomLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Morph Ball Room Left"></div>
    <div id="greenBrinstarElevatorRight" class="baseButton" onclick="clickPortal('greenBrinstarElevatorRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Green Brinstar Elevator Right"></div>
    <div id="greenHillZoneTopRight" class="baseButton" onclick="clickPortal('greenHillZoneTopRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Green Hill Zone Top Right"></div>
    <div id="noobBridgeRight" class="baseButton" onclick="clickPortal('noobBridgeRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Noob Bridge Right"></div>
    <div id="westOceanLeft" class="baseButton" onclick="clickPortal('westOceanLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="West Ocean Left"></div>
    <div id="crabMazeLeft" class="baseButton" onclick="clickPortal('crabMazeLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Crab Maze Left"></div>
    <div id="lavaDiveRight" class="baseButton" onclick="clickPortal('lavaDiveRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Lava Dive Right"></div>
    <div id="threeMuskateersRoomLeft" class="baseButton" onclick="clickPortal('threeMuskateersRoomLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Three Muskateers Room Left"></div>
    <div id="warehouseZeelaRoomLeft" class="baseButton" onclick="clickPortal('warehouseZeelaRoomLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Warehouse Zeela Room Left"></div>
    <div id="warehouseEntranceLeft" class="baseButton" onclick="clickPortal('warehouseEntranceLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Warehouse Entrance Left"></div>
    <div id="warehouseEntranceRight" class="baseButton" onclick="clickPortal('warehouseEntranceRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Warehouse Entrance Right"></div>
    <div id="singleChamberTopRight" class="baseButton" onclick="clickPortal('singleChamberTopRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Single Chamber Top Right"></div>
    <div id="kronicBoostRoomBottomLeft" class="baseButton" onclick="clickPortal('kronicBoostRoomBottomLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Kronic Boost Room Bottom Left"></div>
    <div id="mainStreetBottom" class="baseButtonRot" onclick="clickPortal('mainStreetBottom')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Main Street Bottom Left"></div>
    <div id="crabHoleBottomLeft" class="baseButton" onclick="clickPortal('crabHoleBottomLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Crab Hole Bottom Left"></div>
    <div id="leCoudeRight" class="baseButton" onclick="clickPortal('leCoudeRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Le Coude Right"></div>
    <div id="redFishRoomLeft" class="baseButton" onclick="clickPortal('redFishRoomLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Red Fish Room Left"></div>
    <div id="redTowerTopLeft" class="baseButton" onclick="clickPortal('redTowerTopLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Red Tower Top Left"></div>
    <div id="caterpillarRoomTopRight" class="baseButton" onclick="clickPortal('caterpillarRoomTopRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Caterpillar Room Top Right"></div>
    <div id="redBrinstarElevator" class="baseButtonRot" onclick="clickPortal('redBrinstarElevator')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Red Brinstar Elevator"></div>
    <div id="eastTunnelRight" class="baseButton" onclick="clickPortal('eastTunnelRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="East Tunnel Right"></div>
    <div id="eastTunnelTopRight" class="baseButton" onclick="clickPortal('eastTunnelTopRight')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="East Tunnel Top Right"></div>
    <div id="glassTunnelTop" class="baseButtonRot" onclick="clickPortal('glassTunnelTop')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Glass Tunnel Top"></div>
    <div id="statuesHallwayLeft" class="baseButton" onclick="clickPortal('statuesHallwayLeft')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Statues Hallway Left"></div>
    <div id="phantoonRoomOut" class="baseButton" onclick="clickPortal('phantoonRoomOut')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Phantoon Room Out"></div>
    <div id="phantoonRoomIn" class="baseButton" onclick="clickPortal('phantoonRoomIn')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Phantoon Room In"></div>
    <div id="ridleyRoomOut" class="baseButton" onclick="clickPortal('ridleyRoomOut')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Ridley Room Out"></div>
    <div id="ridleyRoomIn" class="baseButton" onclick="clickPortal('ridleyRoomIn')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Ridley Room In"></div>
    <div id="kraidRoomOut" class="baseButton" onclick="clickPortal('kraidRoomOut')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Kraid Room Out"></div>
    <div id="kraidRoomIn" class="baseButton" onclick="clickPortal('kraidRoomIn')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Kraid Room In"></div>
    <div id="draygonRoomOut" class="baseButton" onclick="clickPortal('draygonRoomOut')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Draygon Room Out"></div>
    <div id="draygonRoomIn" class="baseButton" onclick="clickPortal('draygonRoomIn')" onmouseover="startAnimation(this)" onmouseout="stopAnimation(this)" data-toggle="tooltip" title="Draygon Room In"></div>

    <!-- the locations -->
    <div id="EnergyTankGauntlet" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="Bomb" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="EnergyTankTerminator" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="ReserveTankBrinstar" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="ChargeBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MorphingBall" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankBrinstarCeiling" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankEtecoons" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankWaterway" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankBrinstarGate" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="XRayScope" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="Spazer" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankKraid" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="VariaSuit" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="IceBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankCrocomire" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="HiJumpBoots" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="GrappleBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="ReserveTankNorfair" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SpeedBooster" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="WaveBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankRidley" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="ScrewAttack" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankFirefleas" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="ReserveTankWreckedShip" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="EnergyTankWreckedShip" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="RightSuperWreckedShip" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="GravitySuit" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="EnergyTankMamaturtle" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PlasmaBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="ReserveTankMaridia" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SpringBall" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankBotwoon" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SpaceJump" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombCrateriasurface" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileoutsideWreckedShipbottom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileoutsideWreckedShiptop" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileoutsideWreckedShipmiddle" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileCrateriamoat" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileCrateriabottom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileCrateriagauntletright" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileCrateriagauntletleft" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="SuperMissileCrateria" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileCrateriamiddle" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="PowerBombgreenBrinstarbottom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissilepinkBrinstar" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilegreenBrinstarbelowsupermissile" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissilegreenBrinstartop" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilegreenBrinstarbehindmissile" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilegreenBrinstarbehindreservetank" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilepinkBrinstartop" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilepinkBrinstarbottom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombpinkBrinstar" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilegreenBrinstarpipe" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombblueBrinstar" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileblueBrinstarmiddle" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissilegreenBrinstarbottom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileblueBrinstarbottom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileblueBrinstartop" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileblueBrinstarbehindmissile" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombredBrinstarsidehopperroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombredBrinstarspikeroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileredBrinstarspikeroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileKraid" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="Missilelavaroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilebelowIceBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileaboveCrocomire" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileHiJumpBoots" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="EnergyTankHiJumpBoots" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombCrocomire" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilebelowCrocomire" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileGrappleBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileNorfairReserveTank" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilebubbleNorfairgreendoor" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilebubbleNorfair" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileSpeedBooster" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileWaveBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileGoldTorizo" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissileGoldTorizo" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileMickeyMouseroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilelowerNorfairabovefireflearoom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBomblowerNorfairabovefireflearoom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombPowerBombsofshame" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilelowerNorfairnearWaveBeam" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileWreckedShipmiddle" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileGravitySuit" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissileWreckedShiptop" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="SuperMissileWreckedShipleft" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true" data-placement="bottom"></div>
    <div id="MissilegreenMaridiashinespark" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissilegreenMaridia" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilegreenMaridiatatori" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissileyellowMaridia" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileyellowMaridiasupermissile" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileyellowMaridiafalsewall" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileleftMaridiasandpitroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilerightMaridiasandpitroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="PowerBombrightMaridiasandpitroom" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissilepinkMaridia" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="SuperMissilepinkMaridia" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MissileDraygon" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="Kraid" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="Ridley" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="Phantoon" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="Draygon" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>
    <div id="MotherBrain" class="baseLoc" onmouseover="mouseOver(this)" onmouseout="mouseOut(this)" data-toggle="tooltip" title="" onclick="clickLoc(this)" data-html="true"></div>

    <!-- area tracker buttons -->
    <div id="titleArea" class="titleArea">AREA</div>
    <div id="repeatArea" class="repeatArea"><img src="/solver/static/images/repeat.svg" alt="Cancel Last" onclick="deleteLine()" data-toggle="tooltip" title="Remove last added transition" data-placement="bottom" data-container="body" data-html="true"></div>
    <div id="binArea" class="binArea"><img src="/solver/static/images/bin.svg" alt="Clear" onclick="clearLines()" data-toggle="tooltip" title="Remove all the transitions" data-placement="bottom" data-container="body" data-html="true"></div>

    <!-- item tracker buttons -->
    <div id="titleItem" class="titleItem">ITEM</div>
    <div id="startItem" class="startItem"><img src="/solver/static/images/play.svg" alt="Start" onclick="displayPopup(false)" data-toggle="tooltip" title="Start the Interactive Solver" data-placement="bottom" data-container="body" data-html="true"></div>
    <div id="repeatItem" class="repeatItem"><img src="/solver/static/images/repeat.svg" alt="Cancel Last" onclick="deleteLoc(false)" data-toggle="tooltip" title="Remove last visited location" data-placement="bottom" data-container="body" data-html="true"></div>
    <div id="binItem" class="binItem"><img src="/solver/static/images/bin.svg" alt="Clear" onclick="clearLocs(false)" data-toggle="tooltip" title="Remove all visited locations" data-placement="bottom" data-container="body" data-html="true"></div>

    <div id="help" class="help"><img src="/solver/static/images/help.svg" alt="Help" onclick="startTheTour(0)" data-toggle="tooltip" title="Display the help" data-placement="bottom" data-container="body" data-html="true"></div>

    <!-- plando buttons -->
    <div id="titlePlando" class="titlePlando">PLANDO</div>
    <div id="startPlando" class="startPlando"><img src="/solver/static/images/play.svg" alt="Start" onclick="displayPopup(true)" data-toggle="tooltip" title="Start the Plando creator" data-placement="bottom" data-container="body" data-html="true"></div>
    <div id="repeatPlando" class="repeatPlando"><img src="/solver/static/images/repeat.svg" alt="Cancel Last" onclick="deleteLoc(true)" data-toggle="tooltip" title="Remove last placed item" data-placement="bottom" data-container="body" data-html="true"></div>
    <div id="binPlando" class="binPlando"><img src="/solver/static/images/bin.svg" alt="Clear" onclick="clearLocs(true)" data-toggle="tooltip" title="Remove all placed items" data-placement="bottom" data-container="body" data-html="true"></div>
    <div id="savePlando" class="savePlando"><img src="/solver/static/images/save.svg" alt="Save" onclick="save()" data-toggle="tooltip" title="Download plando ROM" data-placement="bottom" data-container="body" data-html="true"></div>

    <div id="helpPlando" class="helpPlando"><img src="/solver/static/images/help.svg" alt="Help" onclick="startTheTour(1)" data-toggle="tooltip" title="Display the Plando help" data-placement="bottom" data-container="body" data-html="true"></div>

    <!-- web service status -->
    <div id="cloud" class="cloud">
      <img id="refresh" src="/solver/static/images/refresh.svg" alt="refresh" data-toggle="tooltip" title="Loading in progress" data-placement="bottom" data-container="body" data-html="true">
      <img id="checkmark" src="/solver/static/images/checkmark.svg" alt="checkmark" style="display: none" data-toggle="tooltip" title="Web service OK" data-placement="bottom" data-container="body" data-html="true">
      <img id="warning" src="/solver/static/images/warning.svg" alt="warning" style="display: none" data-toggle="tooltip" title="Web service ERROR" data-placement="bottom" data-container="body" data-html="true">
      <img id="download" src="/solver/static/images/cloud_download.svg" alt="cloud_download" style="display: none" data-toggle="tooltip" title="Web service downloading" data-placement="bottom" data-container="body" data-html="true">
      <img id="upload" src="/solver/static/images/cloud_upload.png" alt="cloud_upload" style="display: none" data-toggle="tooltip" title="Web service uploading" data-placement="bottom" data-container="body" data-html="true">
    </div>

    <!-- gps marker -->
    <div id="lastLoc">
      <img src="/solver/static/images/gps.png" alt="last access point" data-toggle="tooltip" title="Current access point" data-placement="bottom" data-container="body" data-html="true">
    </div>

    <!-- g4 -->
    <div class="g4">
        <img src="/solver/static/images/golden_four.png" alt="g4" title="Golden 4" class="full">
    </div>
    <div id="KraidG4" class="boss kraid">
        <img src="/solver/static/images/kraid.png" title="Kraid" class="full">
    </div>
    <div id="PhantoonG4" class="boss phantoon">
        <img src="/solver/static/images/phantoon.png" title="Phantoon" class="full">
    </div>
    <div id="DraygonG4" class="boss draygon">
        <img src="/solver/static/images/draygon.png" title="Draygon" class="full">
    </div>
    <div id="RidleyG4" class="boss ridley">
        <img src="/solver/static/images/ridley.png" title="Ridley" class="full">
    </div>

    <!-- inventory menu -->
    <div class="pause">
        <img src="/solver/static/images/background.png" class="full">
    </div>
    <div id="Charge_pause" class="Charge_pause">
        <img src="/solver/static/images/charge.png" class="full">
    </div>
    <div id="Ice_pause" class="Ice_pause">
        <img src="/solver/static/images/ice.png" class="full">
    </div>
    <div id="Wave_pause" class="Wave_pause">
        <img src="/solver/static/images/wave.png" class="full">
    </div>
    <div id="Spazer_pause" class="Spazer_pause">
        <img src="/solver/static/images/spazer.png" class="full">
    </div>
    <div id="Plasma_pause" class="Plasma_pause">
        <img src="/solver/static/images/plasma.png" class="full">
    </div>

    <div id="Varia_pause" class="Varia_pause">
        <img src="/solver/static/images/varia.png" class="full">
    </div>
    <div id="Gravity_pause" class="Gravity_pause">
        <img src="/solver/static/images/gravity.png" class="full">
    </div>
    <div id="Morph_pause" class="Morph_pause">
        <img src="/solver/static/images/morph.png" class="full">
    </div>
    <div id="Bomb_pause" class="Bomb_pause">
        <img src="/solver/static/images/bomb.png" class="full">
    </div>
    <div id="SpringBall_pause" class="SpringBall_pause">
        <img src="/solver/static/images/springball.png" class="full">
    </div>
    <div id="ScrewAttack_pause" class="ScrewAttack_pause">
        <img src="/solver/static/images/screwattack.png" class="full">
    </div>
    <div id="HiJump_pause" class="HiJump_pause">
        <img src="/solver/static/images/hijump.png" class="full">
    </div>
    <div id="SpaceJump_pause" class="SpaceJump_pause">
        <img src="/solver/static/images/spacejump.png" class="full">
    </div>
    <div id="SpeedBooster_pause" class="SpeedBooster_pause">
        <img src="/solver/static/images/speedbooster.png" class="full">
    </div>

    <div id="Missile_pause" class="Missile_pause">
        <img src="/solver/static/images/missile.png" class="full">
    </div>
    <div id="Super_pause" class="Super_pause">
        <img src="/solver/static/images/super.png" class="full">
    </div>
    <div id="PowerBomb_pause" class="PowerBomb_pause">
        <img src="/solver/static/images/powerbomb.png" class="full">
    </div>
    <div id="Grapple_pause" class="Grapple_pause">
        <img src="/solver/static/images/grapple.png" class="full">
    </div>
    <div id="XRayScope_pause" class="XRayScope_pause">
        <img src="/solver/static/images/xray.png" class="full">
    </div>

    <div id="Energy_pause" class="Energy_pause">
        <img src="/solver/static/images/energy.png" class="full">
    </div>
    <div id="Energy_90_pause" class="Energy_90_pause">
        <img src="/solver/static/images/9.png" class="full">
    </div>
    <div id="Energy_9_pause" class="Energy_9_pause">
        <img src="/solver/static/images/9.png" class="full">
    </div>

    <div id="ETank_1_pause" class="ETank_1_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_2_pause" class="ETank_2_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_3_pause" class="ETank_3_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_4_pause" class="ETank_4_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_5_pause" class="ETank_5_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_6_pause" class="ETank_6_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_7_pause" class="ETank_7_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_8_pause" class="ETank_8_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_9_pause" class="ETank_9_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_10_pause" class="ETank_10_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_11_pause" class="ETank_11_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_12_pause" class="ETank_12_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_13_pause" class="ETank_13_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>
    <div id="ETank_14_pause" class="ETank_14_pause">
        <img src="/solver/static/images/etank.png" class="full">
    </div>

    <div id="Reserve_1_pause" class="Reserve_1_pause">
        <img src="/solver/static/images/reserve.png" class="full">
    </div>
    <div id="Reserve_2_pause" class="Reserve_2_pause">
        <img src="/solver/static/images/reserve.png" class="full">
    </div>
    <div id="Reserve_3_pause" class="Reserve_3_pause">
        <img src="/solver/static/images/reserve.png" class="full">
    </div>
    <div id="Reserve_4_pause" class="Reserve_4_pause">
        <img src="/solver/static/images/reserve.png" class="full">
    </div>

    <div id="Missile_900_0_pause" class="Missile_900_0_pause">
        <img src="/solver/static/images/0.png" class="full">
    </div>

    <div id="Missile_900_0_pause" class="Missile_900_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="Missile_900_1_pause" class="Missile_900_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="Missile_900_2_pause" class="Missile_900_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="Missile_900_3_pause" class="Missile_900_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="Missile_900_4_pause" class="Missile_900_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="Missile_900_5_pause" class="Missile_900_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="Missile_900_6_pause" class="Missile_900_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="Missile_900_7_pause" class="Missile_900_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="Missile_900_8_pause" class="Missile_900_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="Missile_900_9_pause" class="Missile_900_9_pause"><img src="/solver/static/images/9.png" class="full"></div>
    <div id="Missile_90_0_pause" class="Missile_90_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="Missile_90_1_pause" class="Missile_90_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="Missile_90_2_pause" class="Missile_90_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="Missile_90_3_pause" class="Missile_90_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="Missile_90_4_pause" class="Missile_90_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="Missile_90_5_pause" class="Missile_90_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="Missile_90_6_pause" class="Missile_90_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="Missile_90_7_pause" class="Missile_90_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="Missile_90_8_pause" class="Missile_90_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="Missile_90_9_pause" class="Missile_90_9_pause"><img src="/solver/static/images/9.png" class="full"></div>
    <div id="Missile_9_0_pause" class="Missile_9_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="Missile_9_1_pause" class="Missile_9_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="Missile_9_2_pause" class="Missile_9_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="Missile_9_3_pause" class="Missile_9_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="Missile_9_4_pause" class="Missile_9_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="Missile_9_5_pause" class="Missile_9_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="Missile_9_6_pause" class="Missile_9_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="Missile_9_7_pause" class="Missile_9_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="Missile_9_8_pause" class="Missile_9_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="Missile_9_9_pause" class="Missile_9_9_pause"><img src="/solver/static/images/9.png" class="full"></div>

    <div id="Super_900_0_pause" class="Super_900_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="Super_900_1_pause" class="Super_900_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="Super_900_2_pause" class="Super_900_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="Super_900_3_pause" class="Super_900_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="Super_900_4_pause" class="Super_900_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="Super_900_5_pause" class="Super_900_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="Super_900_6_pause" class="Super_900_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="Super_900_7_pause" class="Super_900_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="Super_900_8_pause" class="Super_900_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="Super_900_9_pause" class="Super_900_9_pause"><img src="/solver/static/images/9.png" class="full"></div>
    <div id="Super_90_0_pause" class="Super_90_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="Super_90_1_pause" class="Super_90_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="Super_90_2_pause" class="Super_90_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="Super_90_3_pause" class="Super_90_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="Super_90_4_pause" class="Super_90_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="Super_90_5_pause" class="Super_90_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="Super_90_6_pause" class="Super_90_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="Super_90_7_pause" class="Super_90_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="Super_90_8_pause" class="Super_90_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="Super_90_9_pause" class="Super_90_9_pause"><img src="/solver/static/images/9.png" class="full"></div>
    <div id="Super_9_0_pause" class="Super_9_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="Super_9_1_pause" class="Super_9_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="Super_9_2_pause" class="Super_9_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="Super_9_3_pause" class="Super_9_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="Super_9_4_pause" class="Super_9_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="Super_9_5_pause" class="Super_9_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="Super_9_6_pause" class="Super_9_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="Super_9_7_pause" class="Super_9_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="Super_9_8_pause" class="Super_9_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="Super_9_9_pause" class="Super_9_9_pause"><img src="/solver/static/images/9.png" class="full"></div>

    <div id="PowerBomb_900_0_pause" class="PowerBomb_900_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="PowerBomb_900_1_pause" class="PowerBomb_900_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="PowerBomb_900_2_pause" class="PowerBomb_900_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="PowerBomb_900_3_pause" class="PowerBomb_900_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="PowerBomb_900_4_pause" class="PowerBomb_900_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="PowerBomb_900_5_pause" class="PowerBomb_900_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="PowerBomb_900_6_pause" class="PowerBomb_900_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="PowerBomb_900_7_pause" class="PowerBomb_900_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="PowerBomb_900_8_pause" class="PowerBomb_900_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="PowerBomb_900_9_pause" class="PowerBomb_900_9_pause"><img src="/solver/static/images/9.png" class="full"></div>
    <div id="PowerBomb_90_0_pause" class="PowerBomb_90_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="PowerBomb_90_1_pause" class="PowerBomb_90_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="PowerBomb_90_2_pause" class="PowerBomb_90_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="PowerBomb_90_3_pause" class="PowerBomb_90_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="PowerBomb_90_4_pause" class="PowerBomb_90_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="PowerBomb_90_5_pause" class="PowerBomb_90_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="PowerBomb_90_6_pause" class="PowerBomb_90_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="PowerBomb_90_7_pause" class="PowerBomb_90_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="PowerBomb_90_8_pause" class="PowerBomb_90_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="PowerBomb_90_9_pause" class="PowerBomb_90_9_pause"><img src="/solver/static/images/9.png" class="full"></div>
    <div id="PowerBomb_9_0_pause" class="PowerBomb_9_0_pause"><img src="/solver/static/images/0.png" class="full"></div>
    <div id="PowerBomb_9_1_pause" class="PowerBomb_9_1_pause"><img src="/solver/static/images/1.png" class="full"></div>
    <div id="PowerBomb_9_2_pause" class="PowerBomb_9_2_pause"><img src="/solver/static/images/2.png" class="full"></div>
    <div id="PowerBomb_9_3_pause" class="PowerBomb_9_3_pause"><img src="/solver/static/images/3.png" class="full"></div>
    <div id="PowerBomb_9_4_pause" class="PowerBomb_9_4_pause"><img src="/solver/static/images/4.png" class="full"></div>
    <div id="PowerBomb_9_5_pause" class="PowerBomb_9_5_pause"><img src="/solver/static/images/5.png" class="full"></div>
    <div id="PowerBomb_9_6_pause" class="PowerBomb_9_6_pause"><img src="/solver/static/images/6.png" class="full"></div>
    <div id="PowerBomb_9_7_pause" class="PowerBomb_9_7_pause"><img src="/solver/static/images/7.png" class="full"></div>
    <div id="PowerBomb_9_8_pause" class="PowerBomb_9_8_pause"><img src="/solver/static/images/8.png" class="full"></div>
    <div id="PowerBomb_9_9_pause" class="PowerBomb_9_9_pause"><img src="/solver/static/images/9.png" class="full"></div>

    <div id="auto" class="auto"><img src="/solver/static/images/auto.png" class="full"></div>
    <div id="reserve_text" class="reserve_text"><img src="/solver/static/images/reserve_text.png" class="full"></div>

    <div id="reserve_0" class="reserve_0"><img src="/solver/static/images/0_reserve.png" class="full"></div>
    <div id="reserve_00" class="reserve_00"><img src="/solver/static/images/0_reserve.png" class="full"></div>
    <div id="reserve_1" class="reserve_1"><img src="/solver/static/images/1_reserve.png" class="full"></div>
    <div id="reserve_2" class="reserve_1"><img src="/solver/static/images/2_reserve.png" class="full"></div>
    <div id="reserve_3" class="reserve_1"><img src="/solver/static/images/3_reserve.png" class="full"></div>
    <div id="reserve_4" class="reserve_1"><img src="/solver/static/images/4_reserve.png" class="full"></div>

  </div>
</div>
